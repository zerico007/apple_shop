{"version":3,"sources":["constants.js","utils.js","redux/index.js","redux/resources/user.js","redux/resources/products.js","redux/resources/orders.js","redux/resources/cart.js","redux/store.js","network.js","components/styledElements.js","components/CartItem.js","components/Cart.js","components/Modal.js","components/ProductVideo.js","components/ProductView.js","components/SearchBar.js","components/Catalogue.js","components/CreateProduct.js","assets/apple-products.jpeg","components/Home.js","components/Login.js","assets/apple_shop_wave.svg","components/NavBar.js","components/OrderItem.js","components/OrderView.js","components/Orders.js","components/PasswordUpdate.js","components/Register.js","App.js","index.js"],"names":["IMAGES_URL","usePersistedState","key","defaultValue","useState","JSON","parse","sessionStorage","getItem","state","setState","useEffect","setItem","stringify","existingStore","store","initialState","user","userId","username","email","password","role","token","isLoggedIn","isLoading","error","userSlice","createSlice","name","reducers","login","loginSuccess","payload","loginFailure","action","logout","resetUsertoken","actions","products","loading","productsSlice","getProductsRequest","getProductsSuccess","reverse","getProductsFailure","orders","ordersSlice","getOrdersRequest","getOrdersSuccess","getOrdersFailure","cart","total","items","cartSlice","getCartRequest","getCartSuccess","message","Total","getCartFailure","rootReducer","configureStore","reducer","subscribe","clear","getState","shopApiInstance","axios","create","baseURL","interceptors","response","use","newAccessToken","currentToken","defaults","headers","common","split","jwt_decode","exp","Date","now","console","log","dispatch","setBearerToken","info","Promise","reject","FormDiv","styled","div","Input","input","Button","button","PasswordChecks","Check","toastConfig","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","CartItemDiv","AmountSelect","select","CartItem","updateCart","productId","image","title","price","quantity","removeFromCart","amount","setAmount","className","style","gridArea","width","src","alt","Intl","NumberFormat","format","id","onChange","e","target","value","params","product","onClick","CartWrapper","Cart","count","placeOrder","mobile","display","flexDirection","justifyContent","alignItems","borderBottom","marginBottom","length","map","item","i","productImage","_id","textAlign","Modal","toggle","deleteProduct","addToCart","UpdateProductModal","quantityRef","useRef","top","onSubmit","preventDefault","current","toast","reset","type","ref","alignSelf","ProductVideo","videoURL","showCloseButton","closeButton","setMountVideo","mountVideo","left","url","playing","controls","height","pip","playsinline","stopOnUnmount","ProductDiv","ImageDiv","ProductView","img_url","available","updateProductAvailability","updateProduct","setCloseButton","setDisplay","updatedImage","setUpdatedImage","newPrice","newTitle","setTimeout","thing","document","querySelector","classList","handleUpdateProduct","data","FormData","append","isUserAdmin","encType","files","marginLeft","path","handleAvailability","disabled","SearchBar","search","updateSearch","SearchDiv","border","borderRadius","boxSizing","placeholder","autoFocus","float","right","Wrapper","Catalogue","setSearch","term","toLowerCase","includes","CreateProduct","addProduct","setImage","nameRef","priceRef","videoRef","required","Home","StyledWrapper","StyledContainer","homeBackground","to","Login","handleLogin","RegisterButton","emailRef","passwordRef","fontSize","StyledBadge","withStyles","theme","badge","palette","background","paper","padding","Badge","Nav","nav","NavButton","props","mobileSite","menuFadeDown","keyframes","NavButtonsDiv","MobileNavButtonsDiv","wave","NavBar","getOrders","cartCount","showNav","setShowNav","translucent","setTranslucent","showNavOptions","setShowNavOptions","showNavDropDown","handleTranslucentOnScroll","window","scrollY","addEventListener","removeEventListener","ShoppingCart","marginTop","marginRight","cursor","color","IconButton","aria-label","badgeContent","opacity","onMouseEnter","onMouseLeave","zIndex","minHeight","margin","fontWeight","size","OrderItemDiv","OrderItem","subtotal","OrderWrapper","OrderView","date","orderId","orderItems","orderHeader","headerText","unitPrice","Orders","order","OrderTotal","dateCreated","PasswordUpdate","updatePassword","currentPassword","setCurrentPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","passwordsMatch","test","LoginButton","Register","handleRegister","setPassword","setEmail","setUsername","usernameError","setUsernameError","emailError","setEmailError","App","setMobile","progress","setProgress","setCartCount","useDispatch","useSelector","reduce","acc","navigate","useNavigate","innerWidth","getCart","a","get","getProducts","getUser","decodedUser","post","success","put","deleteParams","delete","onLoaderFinished","dark","exact","element","ReactDOM","render"],"mappings":"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","file":"static/js/main.a62b2ce3.chunk.js","sourcesContent":["export const BASE_URL = \"https://apple-shop-backend.herokuapp.com/api\";\n//export const BASE_URL = \"http://localhost:4000/api\";\n\nexport const IMAGES_URL = \"https://apple-shop-backend.herokuapp.com\";\n// export const IMAGES_URL = \"http://localhost:4000\";\n","import { useState, useEffect } from \"react\";\n\n// function usePersistedState<T>(\n//   key: string,\n//   defaultValue: T\n// ): [T, Dispatch<SetStateAction<T>>] {\n//   const [state, setState] = useState<T>(\n//     () => JSON.parse(sessionStorage.getItem(key)) || defaultValue\n//   );\n//   useEffect(() => {\n//     sessionStorage.setItem(key, JSON.stringify(state));\n//   }, [key, state]);\n//   return [state, setState];\n// }\n\nfunction usePersistedState(key, defaultValue) {\n  const [state, setState] = useState(\n    () => JSON.parse(sessionStorage.getItem(key)) || defaultValue\n  );\n  useEffect(() => {\n    sessionStorage.setItem(key, JSON.stringify(state));\n  }, [key, state]);\n  return [state, setState];\n}\n\nfunction getStoreFromSessionStorage() {\n  if (sessionStorage.store) {\n    return JSON.parse(sessionStorage.store);\n  }\n  return null;\n}\n\nexport { usePersistedState, getStoreFromSessionStorage };\n","import { getStoreFromSessionStorage } from \"../utils\";\n\nconst existingStore = getStoreFromSessionStorage();\n\nexport default existingStore;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport existingStore from \"../index\";\n\nconst initialState = existingStore\n  ? existingStore.user // if user is logged in, get user from session storage\n  : {\n      user: {\n        userId: \"\",\n        username: \"\",\n        email: \"\",\n        password: \"\",\n        role: \"\",\n        token: \"\",\n        isLoggedIn: false,\n        isLoading: false,\n        error: null,\n      },\n    };\n\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState,\n  reducers: {\n    login: (state) => {\n      state.user.isLoading = true;\n      state.user.error = null;\n    },\n    loginSuccess: (state, { payload }) => {\n      state.user.isLoading = false;\n      state.user.isLoggedIn = true;\n      state.user.userId = payload.userId;\n      state.user.username = payload.username;\n      state.user.email = payload.email;\n      state.user.password = payload.password;\n      state.user.role = payload.role;\n      state.user.token = payload.token;\n    },\n    loginFailure: (state, action) => {\n      state.user.isLoading = false;\n      state.user.error = action.payload;\n    },\n    logout: (state) => {\n      state.user.isLoggedIn = false;\n      state.user.userId = \"\";\n      state.user.username = \"\";\n      state.user.email = \"\";\n      state.user.password = \"\";\n      state.user.role = \"\";\n      state.user.token = \"\";\n    },\n    resetUsertoken: (state, { payload }) => {\n      state.user.token = payload;\n    },\n  },\n});\n\nexport const {\n  login,\n  loginSuccess,\n  loginFailure,\n  logout,\n  resetUsertoken,\n} = userSlice.actions;\n\nexport default userSlice.reducer;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport existingStore from \"../index\";\n\nconst initialState = existingStore\n  ? existingStore.products\n  : {\n      products: [],\n      loading: false,\n      error: null,\n    };\n\nconst productsSlice = createSlice({\n  name: \"products\",\n  initialState,\n  reducers: {\n    getProductsRequest: (state) => {\n      state.loading = true;\n      state.error = null;\n    },\n    getProductsSuccess: (state, action) => {\n      state.products = action.payload.reverse();\n      state.loading = false;\n      state.error = null;\n    },\n    getProductsFailure: (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    },\n  },\n});\n\nexport const {\n  getProductsRequest,\n  getProductsSuccess,\n  getProductsFailure,\n} = productsSlice.actions;\n\nexport default productsSlice.reducer;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport existingStore from \"../index\";\n\nconst initialState = existingStore\n  ? existingStore.orders\n  : {\n      orders: [],\n      loading: false,\n      error: null,\n    };\n\nconst ordersSlice = createSlice({\n  name: \"orders\",\n  initialState,\n  reducers: {\n    getOrdersRequest: (state) => {\n      state.loading = true;\n      state.error = null;\n    },\n    getOrdersSuccess: (state, action) => {\n      state.orders = action.payload;\n      state.loading = false;\n      state.error = null;\n    },\n    getOrdersFailure: (state, action) => {\n      state.error = action.payload;\n      state.loading = false;\n    },\n  },\n});\n\nexport const {\n  getOrdersRequest,\n  getOrdersSuccess,\n  getOrdersFailure,\n} = ordersSlice.actions;\n\nexport default ordersSlice.reducer;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport existingStore from \"../index\";\n\nconst initialState = existingStore\n  ? existingStore.cart\n  : {\n      total: \"\",\n      items: [],\n      user: \"\",\n      loading: false,\n      error: null,\n    };\n\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState,\n  reducers: {\n    getCartRequest: (state) => {\n      state.loading = true;\n      state.error = null;\n    },\n    getCartSuccess: (state, { payload }) => {\n      state.loading = false;\n      if (payload.message) {\n        state.total = \"\";\n        state.items = [];\n        return;\n      }\n      state.total = payload.Total;\n      state.items = payload.items;\n      state.user = payload.user;\n    },\n    getCartFailure: (state, { payload }) => {\n      state.loading = false;\n      state.error = payload;\n    },\n  },\n});\n\nexport const {\n  getCartFailure,\n  getCartRequest,\n  getCartSuccess,\n} = cartSlice.actions;\n\nexport default cartSlice.reducer;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport user from \"./resources/user\";\nimport products from \"./resources/products\";\nimport orders from \"./resources/orders\";\nimport cart from \"./resources/cart\";\n\nconst rootReducer = {\n  user,\n  products,\n  orders,\n  cart,\n};\n\nconst store = configureStore({\n  reducer: rootReducer,\n});\n\nexport default store;\n\nstore.subscribe(() => {\n  sessionStorage.clear();\n  sessionStorage.setItem(\"store\", JSON.stringify(store.getState()));\n});\n","import axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nimport { BASE_URL } from \"./constants\";\nimport store from \"./redux/store\";\nimport { resetUsertoken } from \"./redux/resources/user\";\n\nconst shopApiInstance = axios.create({\n  baseURL: BASE_URL,\n});\n\nshopApiInstance.interceptors.response.use(\n  (response) => {\n    let newAccessToken;\n    const currentToken =\n      shopApiInstance.defaults.headers.common[\"Authorization\"] &&\n      shopApiInstance.defaults.headers.common[\"Authorization\"].split(\" \")[1];\n    if (currentToken) {\n      const currentDecodedToken = jwt_decode(currentToken);\n      const { exp } = currentDecodedToken;\n      if (exp * 1000 < Date.now()) {\n        console.log(\"token expired\");\n        if (response.headers[\"shop-refreshed-access-token\"]) {\n          newAccessToken = response.headers[\"shop-refreshed-access-token\"];\n          store.dispatch(resetUsertoken(newAccessToken));\n          setBearerToken(newAccessToken);\n          console.info(\"access token renewed\");\n        }\n      } else {\n        console.info(\"token still good\");\n      }\n    }\n\n    return response;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\nconst setBearerToken = (token) => {\n  shopApiInstance.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n  console.log(`Set bearer token`);\n};\n\nexport { shopApiInstance, setBearerToken };\n","import styled from \"styled-components\";\n\nconst FormDiv = styled.div`\n  top: 150px;\n  margin-left: auto;\n  margin-right: auto;\n  position: relative;\n  background: white;\n  width: 300px;\n  border: none;\n  border-radius: 0.3rem;\n  padding: 20px;\n`;\n\nconst Input = styled.input`\n  height: 1.5em;\n  width: 250px;\n  border-bottom: 2px solid gray;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  padding: 10px;\n  font-family: \"Roboto Condensed\", sans-serif;\n  font-size: 16px;\n  border-top: none;\n  border-left: none;\n  border-right: none;\n`;\n\nconst Button = styled.button`\n  height: 2.5em;\n  font-size: 16px;\n  width: 100px;\n  padding: 5px;\n  margin-top: 10px;\n  margin-bottom: 15px;\n  color: #333d51;\n  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;\n  background-color: #ffcc00;\n  transition: all 0.3s;\n  &:hover {\n    background-color: #e5b700;\n    color: #212a31;\n    transform: scale(1.1);\n  }\n  outline: none;\n  cursor: pointer;\n  &:active {\n    transform: translateY(4px);\n  }\n  border-radius: 0.4rem;\n  font-family: \"Roboto Condensed\", sans-serif;\n  font-weight: 700;\n  border: none;\n`;\n\nconst PasswordChecks = styled.div`\n  width: 320px;\n  height: 170px;\n  display: flex;\n  flex-direction: column;\n  row-gap: 0.7rem;\n  padding: 10px;\n  margin-top: 5px;\n  margin-bottom: 5px;\n  background: linear-gradient(0.25turn, #cbd0d8, #f4f3ea);\n  border: none;\n  border-radius: 4px;\n`;\n\nconst Check = styled.div`\n  height: 1.5rem;\n  width: fit-content;\n  padding: 3px;\n  display: flex;\n  flex-direction: row;\n`;\n\nconst toastConfig = {\n  position: \"top-center\",\n  autoClose: 1500,\n  hideProgressBar: false,\n  closeOnClick: true,\n  pauseOnHover: true,\n};\n\nexport { FormDiv, Button, Input, toastConfig, PasswordChecks, Check };\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { IMAGES_URL } from \"../constants\";\nimport { Button } from \"./styledElements\";\n\nconst CartItemDiv = styled.div`\n  display: grid;\n  width: 80%;\n  grid-template-areas:\n    \"pic title\"\n    \"pic price\"\n    \"pic quantity\"\n    \"pic remove\";\n  padding: 2rem;\n  @media (max-width: 768px) {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n  grid-template-columns: 1fr 2fr;\n  grid-template-rows: 1fr 1fr 1fr;\n  border: 1px solid lightgrey;\n  margin-bottom: 1rem;\n  border-radius: 0.4rem;\n  background: white;\n`;\n\nconst AmountSelect = styled.select`\n  width: 60px;\n  height: 2rem;\n  background: lightgrey;\n  border-radius: 0.4rem;\n  padding-left: 0.5rem;\n  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;\n  cursor: pointer;\n  color: #212a31;\n  border: none;\n  outline: none;\n  background-color: #ffcc00;\n  transition: all 0.3s;\n  outline: none;\n  &:hover {\n    background-color: #e5b700;\n    transform: scale(1.1);\n  }\n`;\n\nconst CartItem = ({\n  updateCart,\n  productId,\n  image,\n  title,\n  price,\n  quantity,\n  removeFromCart,\n}) => {\n  const [amount, setAmount] = useState(quantity);\n\n  const handleAmountChange = (e) => {\n    setAmount(e.target.value);\n    const params = { product: productId, quantity: e.target.value };\n    updateCart(params);\n  };\n\n  const handleRemoveItem = () => {\n    const params = { product: productId };\n    removeFromCart(params);\n  };\n\n  return (\n    <CartItemDiv>\n      <div className=\"cart-image\" style={{ gridArea: \"pic\", width: \"200px\" }}>\n        <img\n          src={`${IMAGES_URL}/${image}`}\n          alt={title}\n          loading=\"lazy\"\n          className=\"product-img\"\n        />\n      </div>\n      <div className=\"cart-item-title\" style={{ gridArea: \"title\" }}>\n        {title}\n      </div>\n      <div className=\"cart-item-price\" style={{ gridArea: \"price\" }}>\n        <strong>Price: ${new Intl.NumberFormat().format(price)}</strong>\n      </div>\n      <div className=\"cart-quantity-btn\" style={{ gridArea: \"quantity\" }}>\n        <AmountSelect\n          name=\"quantity\"\n          id=\"quantity\"\n          defaultValue={amount}\n          onChange={handleAmountChange}\n          style={{}}\n        >\n          <option value={1}>1</option>\n          <option value={2}>2</option>\n          <option value={3}>3</option>\n          <option value={4}>4</option>\n          <option value={5}>5</option>\n        </AmountSelect>\n      </div>\n      <div className=\"remove-from-cart\" style={{ gridArea: \"remove\" }}>\n        <Button onClick={handleRemoveItem}>Remove</Button>\n      </div>\n    </CartItemDiv>\n  );\n};\n\nexport default CartItem;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport CartItem from \"./CartItem\";\nimport { Button } from \"./styledElements\";\n\nconst CartWrapper = styled.div`\n  position: relative;\n  margin: 10rem auto;\n  width: 80vw;\n  height: auto;\n  padding: 2rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: white;\n  border: 1px solid lightgrey;\n  border-radius: 0.2rem;\n`;\n\nconst Cart = ({\n  cart,\n  updateCart,\n  count,\n  removeFromCart,\n  placeOrder,\n  mobile,\n}) => {\n  return (\n    <CartWrapper>\n      <div\n        className=\"cart-header\"\n        style={{\n          display: \"flex\",\n          flexDirection: mobile ? \"column\" : \"row\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          width: \"87%\",\n          borderBottom: \"1px solid lightgrey\",\n          marginBottom: \"1rem\",\n        }}\n      >\n        <h2>Shopping Cart</h2>\n        <div className=\"cart-total\">\n          <strong>\n            {`Subtotal (${count} items): `}\n            {`${cart.total || \"$0.00\"}`}\n          </strong>\n        </div>\n        {cart.items.length > 0 && (\n          <Button onClick={placeOrder}>Place Order</Button>\n        )}\n      </div>\n      {cart.items?.map((item, i) => (\n        <CartItem\n          image={item.product.productImage}\n          title={item.product.name}\n          price={item.product.price}\n          quantity={item.quantity}\n          productId={item.product._id}\n          updateCart={updateCart}\n          removeFromCart={removeFromCart}\n          key={i}\n        />\n      ))}\n      {!cart.items && (\n        <div className=\"empty-cart\" style={{ textAlign: \"center\" }}>\n          <h1>\n            Your Shopping Cart is Empty. Fill it with goodies that you love!\n          </h1>\n        </div>\n      )}\n    </CartWrapper>\n  );\n};\n\nexport default Cart;\n","import React, { useRef, Fragment } from \"react\";\nimport { Button, Input } from \"./styledElements\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { toastConfig } from \"./styledElements\";\n\nfunction Modal({\n  productId,\n  toggle,\n  display,\n  deleteProduct,\n  addToCart,\n  UpdateProductModal,\n}) {\n  const quantityRef = useRef();\n\n  const handleAddToCart = (e) => {\n    e.preventDefault();\n    toggle(\"modal\");\n    const quantity = quantityRef.current.value;\n    if (quantity === \"0\")\n      return toast.error(\"Please enter a quantity\", toastConfig);\n    console.log(productId, quantity);\n    const params = { product: productId, quantity };\n    addToCart(params);\n    e.target.reset();\n  };\n\n  return (\n    <Fragment>\n      <ToastContainer />\n      <div className={`modal modal-${productId}`} style={{ top: \"0px\" }}>\n        <div className=\"modal-content\">\n          {display === \"order\" && (\n            <Fragment>\n              <h3 className=\"order-modal\">How many would you like to add?</h3>\n              <form onSubmit={handleAddToCart}>\n                <Input\n                  type=\"number\"\n                  name=\"quantity\"\n                  defaultValue=\"1\"\n                  ref={quantityRef}\n                  style={{ textAlign: \"center\" }}\n                />\n                <br />\n                <Button type=\"submit\" style={{ width: \"130px\" }}>\n                  Confirm\n                </Button>\n              </form>\n            </Fragment>\n          )}\n          {display === \"delete\" && (\n            <Fragment>\n              <h3 className=\"delete-modal\">\n                Are you sure you want to delete this product?\n              </h3>\n              <Button\n                onClick={() => deleteProduct(productId)}\n                style={{ width: \"120px\", alignSelf: \"center\" }}\n              >\n                Confirm Delete\n              </Button>\n            </Fragment>\n          )}\n          {display === \"update\" && (\n            <Fragment>\n              <UpdateProductModal />\n            </Fragment>\n          )}\n          <Button\n            style={{ alignSelf: \"center\" }}\n            onClick={() => toggle(\"modal\")}\n          >\n            Cancel\n          </Button>\n        </div>\n      </div>\n    </Fragment>\n  );\n}\n\nexport default Modal;\n","import React from 'react';\nimport ReactPlayer from 'react-player';\n\nfunction ProductVideo ({videoURL, productId, showCloseButton, closeButton, setMountVideo, mountVideo, mobile}) {\n\n    return (\n        <div className={`video-div video-${productId}`} style={{top: '0px'}}>\n            <ReactPlayer \n                className=\"video-player\"\n                style={{left: mobile ? '0' : '25vw'}}\n                url={videoURL}\n                playing={mountVideo}\n                controls={false}\n                width={mobile ? '97vw' : '600px'}\n                height={'500px'}\n                pip={true}\n                playsinline={true}\n                stopOnUnmount={true}\n            />\n            { closeButton && <button \n                className=\"close-video\" \n                onClick={() => { showCloseButton(); setMountVideo(!mountVideo)}}\n                >\n                Close <i className=\"far fa-times-circle\"></i>\n            </button>}\n        </div>\n    )\n}\n\nexport default ProductVideo;","import React, { Fragment, useState, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { Button, FormDiv, Input } from \"./styledElements\";\nimport Modal from \"./Modal\";\nimport ProductVideo from \"./ProductVideo\";\n\nconst ProductDiv = styled.div`\n  position: relative;\n  z-index: 3;\n  display: flex;\n  @media (max-width: 768px) {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    just0fy-content: center;\n  }\n  margin: 20px auto 20px auto;\n  padding: 40px;\n  border: none;\n  border-radius: 0.5rem;\n\n  width: 50vw;\n  height: auto;\n  background: white; ;\n`;\n\nconst ImageDiv = styled.div`\n  width: auto;\n  height: auto;\n  transition: all 0.5s ease-in-out;\n  &:hover {\n    transform: scale(1.2);\n  }\n`;\n\nfunction ProductView({\n  img_url,\n  price,\n  title,\n  id,\n  videoURL,\n  user,\n  deleteProduct,\n  available,\n  updateProductAvailability,\n  mobile,\n  updateProduct,\n  addToCart,\n}) {\n  const [closeButton, setCloseButton] = useState(false);\n  const [mountVideo, setMountVideo] = useState(false);\n  const [display, setDisplay] = useState(\"\");\n  const [updatedImage, setUpdatedImage] = useState();\n\n  const newPrice = useRef();\n  const newTitle = useRef();\n\n  const showCloseButton = () => {\n    setTimeout(() => setCloseButton(!closeButton), 1500);\n  };\n\n  const toggle = (thing) => {\n    thing = document.querySelector(`.${thing}-${id}`);\n    thing.classList.toggle(\"on\");\n  };\n\n  const handleAvailability = () => {\n    const path = available\n      ? `/products/${id}/unavailable`\n      : `/products/${id}/available`;\n    updateProductAvailability(path);\n  };\n\n  const handleUpdateProduct = (e) => {\n    e.preventDefault();\n\n    const data = new FormData();\n    updatedImage &&\n      data.append(\"productImage\", updatedImage, updatedImage.name);\n    newTitle.current.value !== title &&\n      data.append(\"newName\", newTitle.current.value);\n    newPrice.current.value !== price &&\n      data.append(\"newPrice\", newPrice.current.value);\n    const config = {\n      headers: {\n        \"content-type\": \"multipart/form-data\",\n      },\n    };\n    toggle(\"modal\");\n    setDisplay(\"\");\n    updatedImage\n      ? updateProduct(e, id, data, config)\n      : updateProduct(e, id, data);\n  };\n\n  const isUserAdmin = user.role === \"administrator\";\n\n  const UpdateProductModal = () => {\n    return (\n      <FormDiv style={{ top: \"0\" }}>\n        <form\n          className=\"update-product-form\"\n          onSubmit={handleUpdateProduct}\n          encType=\"multipart/form-data\"\n        >\n          <Input\n            type=\"text\"\n            id=\"product-title\"\n            name=\"product-title\"\n            ref={newTitle}\n            defaultValue={title}\n          />\n          <Input\n            type=\"number\"\n            id=\"product-price\"\n            name=\"product-price\"\n            ref={newPrice}\n            defaultValue={price}\n          />\n          <Input\n            onChange={(e) => setUpdatedImage(e.target.files[0])}\n            type=\"file\"\n            name=\"productImage\"\n            id=\"productImage\"\n          />\n          <Button style={{ width: \"160px\" }} type=\"submit\">\n            {\" \"}\n            Confirm Update\n          </Button>\n        </form>\n      </FormDiv>\n    );\n  };\n\n  return (\n    <Fragment>\n      <Modal\n        productId={id}\n        toggle={toggle}\n        display={display}\n        deleteProduct={deleteProduct}\n        UpdateProductModal={UpdateProductModal}\n        addToCart={addToCart}\n      />\n      {mountVideo && (\n        <ProductVideo\n          videoURL={videoURL}\n          toggle={toggle}\n          productId={id}\n          showCloseButton={showCloseButton}\n          closeButton={closeButton}\n          mountVideo={mountVideo}\n          setMountVideo={setMountVideo}\n          mobile={mobile}\n        />\n      )}\n      <ProductDiv>\n        <div\n          className=\"left-side\"\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"space-evenly\",\n            alignItems: mobile ? \"center\" : \"flex-start\",\n            width: \"50%\",\n          }}\n        >\n          <ImageDiv>\n            {img_url && (\n              <img\n                src={img_url}\n                alt={title}\n                className=\"product-img\"\n                loading=\"lazy\"\n              />\n            )}\n          </ImageDiv>\n          {isUserAdmin && (\n            <Button\n              style={{\n                width: \"150px\",\n                marginLeft: mobile ? \"0\" : \"2rem\",\n              }}\n              onClick={() => {\n                toggle(\"modal\");\n                setDisplay(\"update\");\n              }}\n            >\n              Update Product\n            </Button>\n          )}\n          {isUserAdmin && (\n            <Button\n              style={{\n                width: \"150px\",\n                marginLeft: mobile ? \"0\" : \"2rem\",\n              }}\n              onClick={() => handleAvailability()}\n            >\n              Update Availability\n            </Button>\n          )}\n        </div>\n        <div\n          className=\"right-side\"\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            width: \"50%\",\n          }}\n        >\n          <div className=\"product-title\">\n            <p style={{ textAlign: \"center\" }}>\n              <strong>{title}</strong>\n            </p>\n          </div>\n          <div className=\"product-price\">\n            <strong>Price: ${new Intl.NumberFormat().format(price)}</strong>\n          </div>\n          <Button\n            className={\n              available ? \"add-to-order-btn\" : \"add-to-order-btn out-of-stock\"\n            }\n            style={{ width: mobile ? \"130px\" : \"100px\" }}\n            onClick={() => {\n              toggle(\"modal\");\n              setDisplay(\"order\");\n            }}\n            disabled={!available}\n          >\n            {available ? \"Add to cart\" : \"Out of Stock\"}\n          </Button>\n          <Button\n            style={{ gridArea: \"video\" }}\n            onClick={() => {\n              showCloseButton();\n              setMountVideo(!mountVideo);\n            }}\n          >\n            Video <i className=\"fab fa-youtube\"></i>\n          </Button>\n\n          {isUserAdmin && (\n            <Button\n              style={{ gridArea: \"delete\" }}\n              onClick={() => {\n                toggle(\"modal\");\n                setDisplay(\"delete\");\n              }}\n            >\n              Delete\n            </Button>\n          )}\n        </div>\n      </ProductDiv>\n    </Fragment>\n  );\n}\n\nexport default ProductView;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Input } from \"./styledElements\";\n\nfunction SearchBar({ search, updateSearch }) {\n  const SearchDiv = styled.div`\n    width: 75vw;\n    height: 2rem;\n    top: 150px;\n    margin-right: auto;\n    margin-left: auto;\n    margin-top: 20px;\n    margin-bottom: 20px;\n  `;\n\n  return (\n    <SearchDiv key={\"searching\"}>\n      <Input\n        style={{\n          width: \"100%\",\n          height: \"2.5rem\",\n          border: \"solid 3px #212a31\",\n          borderRadius: \"0.4rem\",\n          boxSizing: \"border-box\",\n          display: \"flex\",\n          alignItems: \"center\",\n        }}\n        type=\"text\"\n        name=\"search\"\n        id=\"searchText\"\n        placeholder=\"Search\"\n        value={search}\n        onChange={(e) => updateSearch(e.target.value)}\n        autoFocus={true}\n      />\n      <i\n        style={{\n          float: \"right\",\n          position: \"relative\",\n          top: \"-38px\",\n          right: \"15px\",\n        }}\n        className=\"fas fa-search\"\n      ></i>\n    </SearchDiv>\n  );\n}\n\nexport default SearchBar;\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport ProductView from \"./ProductView\";\nimport SearchBar from \"./SearchBar\";\nimport { IMAGES_URL } from \"../constants\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  top: 120px;\n  overflow: hidden;\n  width: 100vw;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nfunction Catalogue({\n  products,\n  user,\n  deleteProduct,\n  updateProductAvailability,\n  mobile,\n  updateProduct,\n  addToCart,\n}) {\n  const [search, setSearch] = useState(\"\");\n\n  const updateSearch = (term) => {\n    setSearch(term);\n  };\n\n  return (\n    <Wrapper>\n      <SearchBar updateSearch={updateSearch} search={search} />\n      {search === \"\" &&\n        products.map((product, i) => (\n          <ProductView\n            price={product.price}\n            title={product.name}\n            img_url={\n              product.productImage && `${IMAGES_URL}/${product.productImage}`\n            }\n            id={product.id}\n            videoURL={product.videoURL}\n            available={product.available}\n            updateProductAvailability={updateProductAvailability}\n            updateProduct={updateProduct}\n            addToCart={addToCart}\n            user={user}\n            deleteProduct={deleteProduct}\n            mobile={mobile}\n            key={i}\n          />\n        ))}\n      {search !== \"\" &&\n        products.map(\n          (product, i) =>\n            product.name.toLowerCase().includes(search.toLowerCase()) && (\n              <ProductView\n                price={product.price}\n                title={product.name}\n                img_url={\n                  product.productImage &&\n                  `${IMAGES_URL}/${product.productImage}`\n                }\n                id={product.id}\n                videoURL={product.videoURL}\n                available={product.available}\n                updateProductAvailability={updateProductAvailability}\n                updateProduct={updateProduct}\n                addToCart={addToCart}\n                user={user}\n                deleteProduct={deleteProduct}\n                mobile={mobile}\n                key={i}\n              />\n            )\n        )}\n    </Wrapper>\n  );\n}\n\nexport default Catalogue;\n","import React, { useRef, useState } from \"react\";\nimport { FormDiv, Button, Input } from \"./styledElements\";\n\nfunction CreateProduct({ addProduct }) {\n  const [image, setImage] = useState();\n\n  const nameRef = useRef();\n  const priceRef = useRef();\n  const videoRef = useRef();\n\n  const handleCreateProduct = (e) => {\n    e.preventDefault();\n\n    const data = new FormData();\n    data.append(\"productImage\", image, image.name);\n    data.append(\"name\", nameRef.current.value);\n    data.append(\"price\", priceRef.current.value);\n    data.append(\"videoURL\", videoRef.current.value);\n    const config = {\n      headers: {\n        \"content-type\": \"multipart/form-data\",\n      },\n    };\n    addProduct(e, data, config);\n  };\n\n  return (\n    <FormDiv>\n      <form\n        className=\"create-product-form\"\n        encType=\"multipart/form-data\"\n        onSubmit={handleCreateProduct}\n      >\n        <Input\n          ref={nameRef}\n          type=\"text\"\n          name=\"productName\"\n          id=\"productName\"\n          placeholder=\"Enter a product name\"\n          required\n        />\n        <Input\n          ref={priceRef}\n          type=\"number\"\n          name=\"price\"\n          id=\"price\"\n          placeholder=\"Set a product price\"\n          required\n        />\n        <Input\n          onChange={(e) => setImage(e.target.files[0])}\n          type=\"file\"\n          name=\"productImage\"\n          id=\"productImage\"\n          placeholder=\"Upload a product image\"\n          required\n        />\n        <Input\n          ref={videoRef}\n          type=\"text\"\n          name=\"videoURL\"\n          id=\"videoURL\"\n          placeholder=\"Paste a video URL for the product ad\"\n          required\n        />\n        <Button style={{ width: \"260px\" }} type=\"submit\">\n          Create Product\n        </Button>\n      </form>\n    </FormDiv>\n  );\n}\n\nexport default CreateProduct;\n","export default __webpack_public_path__ + \"static/media/apple-products.7abda74a.jpeg\";","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Button } from \"./styledElements\";\nimport { Link } from \"react-router-dom\";\nimport homeBackground from \"../assets/apple-products.jpeg\";\n\nfunction Home() {\n  const StyledWrapper = styled.div`\n    width: 50vw;\n    background-color: white;\n    border: none;\n    border-radius: 0.5rem;\n    height: auto;\n    display: flex;\n    flex-direction: column;\n    text-align: center;\n    color: #212a31;\n    margin-left: auto;\n    margin-right: auto;\n    padding: 40px;\n  `;\n\n  const StyledContainer = styled.div`\n    position: absolute;\n    top: 68px;\n    height: 100vh;\n    width: 100vw;\n    left: 0;\n    display: flex;\n    background-image: url(\"${homeBackground}\");\n    background-position: center;\n    justify-content: center;\n    align-items: center;\n  `;\n\n  return (\n    <StyledContainer>\n      <StyledWrapper>\n        <h1 className=\"welcome\">\n          Welcome to the Apple Shop <i className=\"fab fa-apple\"></i>!\n        </h1>\n        <h3 className=\"landing\">\n          Your one stop shopping experience for all things Apple. We pride\n          ourselves in being a premier supplier of Apple products.\n        </h3>\n        <Link to=\"/apple_shop/products\">\n          <Button>Browse</Button>\n        </Link>\n      </StyledWrapper>\n    </StyledContainer>\n  );\n}\n\nexport default Home;\n","import React, { useRef, Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { FormDiv, Button, Input } from \"./styledElements\";\n\nfunction Login({ handleLogin }) {\n  const RegisterButton = styled.button`\n    border: none;\n    border-bottom: solid 1px #212a31;\n    outline: none;\n    cursor: pointer;\n    font-family: \"Roboto Condensed\", sans-serif;\n    background: none;\n    font-size: 16px;\n    transition: all 0.3s;\n    &:hover {\n      background-color: #212a31;\n      color: white;\n      transform: scale(1.2);\n      border: solid 1px white;\n      border-radius: 0.4rem;\n      margin-left: 10px;\n    }\n  `;\n\n  const emailRef = useRef();\n  const passwordRef = useRef();\n\n  const handleSubmit = (e) => {\n    const params = {\n      email: emailRef.current.value,\n      password: passwordRef.current.value,\n    };\n    handleLogin(e, params);\n  };\n\n  return (\n    <Fragment>\n      <div\n        className=\"header\"\n        style={{ display: \"flex\", justifyContent: \"center\", fontSize: \"24px\" }}\n      >\n        <h1 style={{ textAlign: \"center\" }}>\n          Welcome to Apple Shop <i className=\"fab fa-apple\"></i>\n        </h1>\n      </div>\n      <FormDiv>\n        <form onSubmit={handleSubmit}>\n          <Input\n            type=\"email\"\n            name=\"email\"\n            id=\"email\"\n            placeholder=\"Email address\"\n            ref={emailRef}\n          />\n          <Input\n            type=\"password\"\n            name=\"password\"\n            id=\"password\"\n            placeholder=\"Password\"\n            ref={passwordRef}\n          />\n          <br></br>\n          <Button type=\"submit\">Login</Button>\n        </form>\n        <footer>\n          New user?{\" \"}\n          <Link to=\"/apple_shop/register\">\n            <RegisterButton>Register here</RegisterButton>\n          </Link>\n        </footer>\n      </FormDiv>\n    </Fragment>\n  );\n}\n\nexport default Login;\n","export default __webpack_public_path__ + \"static/media/apple_shop_wave.a2b3e177.svg\";","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled, { keyframes } from \"styled-components\";\nimport { ChevronDown } from \"react-feather\";\nimport wave from \"../assets/apple_shop_wave.svg\";\nimport Badge from \"@material-ui/core/Badge\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\n\nconst StyledBadge = withStyles((theme) => ({\n  badge: {\n    right: -3,\n    top: 5,\n    border: `2px solid ${theme.palette.background.paper}`,\n    padding: \"0 4px\",\n  },\n}))(Badge);\n\nconst Nav = styled.nav`\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  width: 100%;\n  background-color: #333d51;\n  height: 67px;\n  padding: 10px;\n  z-index: 8;\n`;\n\nconst NavButton = styled.button`\n  width: ${(props) => (props.mobileSite ? \"100%\" : \"120px\")};\n  height: ${(props) => (props.mobileSite ? \"2rem\" : \"60px\")};\n  background: ${(props) => (props.mobileSite ? \"#333d51\" : \"none\")};\n  color: ${(props) => (props.mobileSite ? \"#f4f3ea\" : \"#333d51\")};\n  font-family: \"Roboto Condensed\", sans-serif;\n  font-size: ${(props) => (props.mobileSite ? \"24px\" : \"16px\")};\n  font-weight: bold;\n  outline: none;\n  cursor: pointer;\n  border: none;\n  border-radius: 0.3rem;\n  transition: all 0.5s;\n  &:hover {\n    color: #d3ac2b;\n    transform: scale(1.1);\n  }\n\n  margin-right: ${(props) => (props.mobileSite ? \"0\" : \"40px\")};\n  margin-top: ${(props) => (props.mobileSite ? \"45px\" : \"10px\")};\n  text-align: center;\n`;\n\nconst menuFadeDown = keyframes`\n  from {\n    opacity: 0;\n    transform: scaleY(0);\n    visibility: hidden;\n  } to {\n    opacity: 1;\n    transform: scaleY(1);\n    visibility: visible;\n  }\n`;\n\nconst NavButtonsDiv = styled.div`\n  position: absolute;\n  top: 80px;\n  transform-origin: 0% 0%;\n  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;\n  border: 2px solid #333d51;\n  animation: ${menuFadeDown} 0.5s ease-in-out;\n  right: 142px;\n  z-index: 10;\n  background: white;\n  width: 12rem;\n  height: auto;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  border-radius: 0.3rem;\n  > a {\n    width: 100%;\n    > button {\n      width: 100%;\n      margin: 0;\n      :hover {\n        box-shadow: rgba(50, 50, 93, 0.25) 0px 30px 60px -12px,\n          rgba(0, 0, 0, 0.3) 0px 18px 36px -18px;\n      }\n    }\n  }\n  > button {\n    margin: 0;\n    margin-bottom: 10px;\n    width: 100%;\n    :hover {\n      box-shadow: rgba(50, 50, 93, 0.25) 0px 30px 60px -12px,\n        rgba(0, 0, 0, 0.3) 0px 18px 36px -18px;\n    }\n  }\n  &:after {\n    content: \"\";\n    position: absolute;\n    bottom: 100%;\n    left: 71.2%;\n    margin-left: -10px;\n    border-width: 10px;\n    border-style: solid;\n    border-color: transparent transparent #fff transparent;\n  }\n`;\n\nconst MobileNavButtonsDiv = styled.div`\n  position: absolute;\n  left: 0;\n  padding-left: 40px;\n  padding-top: 10px;\n  top: 80px;\n  display: flex;\n  align-items: flex-start;\n  flex-direction: column;\n  z-index: 100;\n  width: 105vw;\n  animation: enterTopRight 0.5s;\n  transform-origin: 0% 0%;\n  background-image: url(\"${wave}\");\n  height: 100vh;\n`;\n\nfunction NavBar({ logout, getOrders, user, mobile, cartCount }) {\n  const logoStyle = {\n    float: \"left\",\n    marginLeft: \"20px\",\n    marginTop: \"1.5rem\",\n    color: \"#F4F3EA\",\n    fontSize: \"24px\",\n  };\n\n  const greetingStyle = {\n    color: \"#F4F3EA\",\n    fontSize: \"14px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    cursor: \"pointer\",\n    marginTop: \"0.7rem\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    zIndex: \"101\",\n    height: \"auto\",\n    minHeight: \"60px\",\n  };\n\n  const [showNav, setShowNav] = useState(false);\n  const [translucent, setTranslucent] = useState(false);\n  const [showNavOptions, setShowNavOptions] = useState(false);\n\n  const isUserAdmin = user.role === \"administrator\";\n\n  const showNavDropDown = !mobile && showNavOptions;\n\n  const handleTranslucentOnScroll = () => {\n    if (window.scrollY > 0) {\n      setTranslucent(true);\n    } else {\n      setTranslucent(false);\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleTranslucentOnScroll);\n    return () => {\n      window.removeEventListener(\"scroll\", handleTranslucentOnScroll);\n    };\n  }, []);\n\n  const ShoppingCart = () => {\n    return (\n      <Link to=\"/apple_shop/cart\">\n        <div\n          className=\"cart\"\n          style={{\n            marginTop: \"1rem\",\n            marginRight: mobile ? \"3rem\" : 0,\n            cursor: \"pointer\",\n            color: \"white\",\n            textAlign: \"center\",\n            display: \"flex\",\n            alignItems: \"center\",\n            float: \"right\",\n          }}\n        >\n          <IconButton aria-label=\"cart\">\n            <StyledBadge badgeContent={cartCount} color=\"secondary\">\n              <ShoppingCartIcon\n                style={{ color: \"white\", fontSize: \"xx-large\" }}\n              />\n            </StyledBadge>\n          </IconButton>\n        </div>\n      </Link>\n    );\n  };\n\n  return (\n    <>\n      <Nav style={{ opacity: translucent ? \"0.8\" : \"1\" }}>\n        {!mobile && (\n          <Link to=\"/apple_shop/home\">\n            <div className=\"title\" style={logoStyle}>\n              {\" \"}\n              <i className=\"fab fa-apple\"></i> Shop\n            </div>\n          </Link>\n        )}\n        {!mobile && (\n          <div\n            className=\"right-nav\"\n            style={{\n              float: \"right\",\n              marginRight: \"5rem\",\n              display: \"flex\",\n              width: \"15rem\",\n              alignItems: \"center\",\n              justifyContent: \"space-around\",\n            }}\n          >\n            <div\n              className=\"options\"\n              onMouseEnter={() => setShowNavOptions(true)}\n              onMouseLeave={() => setShowNavOptions(false)}\n              style={greetingStyle}\n            >\n              <p style={{ margin: \"0\" }}>{`Hello, ${user.username}`}</p>\n              <div\n                style={{\n                  alignItems: \"center\",\n                  display: \"flex\",\n                  fontWeight: \"bold\",\n                  fontSize: \"1rem\",\n                }}\n              >\n                Accounts & Lists\n                <ChevronDown size={16} />\n              </div>\n              {showNavDropDown && (\n                <NavButtonsDiv>\n                  <Link to=\"/apple_shop/orders\">\n                    <NavButton\n                      onClick={() => {\n                        getOrders(user.role);\n                        setShowNavOptions(false);\n                      }}\n                    >\n                      {isUserAdmin ? \"Orders\" : \"My Orders\"}\n                    </NavButton>\n                  </Link>\n                  {isUserAdmin && (\n                    <Link to=\"/apple_shop/create-product\">\n                      <NavButton onClick={() => setShowNavOptions(false)}>\n                        Create a Product\n                      </NavButton>\n                    </Link>\n                  )}\n                  <Link to=\"/apple_shop/products\">\n                    <NavButton onClick={() => setShowNavOptions(false)}>\n                      Products\n                    </NavButton>\n                  </Link>\n                  <Link to=\"/apple_shop/password\">\n                    <NavButton onClick={() => setShowNavOptions(false)}>\n                      Manage Passwords\n                    </NavButton>\n                  </Link>\n                  <NavButton onClick={logout}>Logout</NavButton>\n                </NavButtonsDiv>\n              )}\n            </div>\n            <ShoppingCart />\n          </div>\n        )}\n        {mobile && (\n          <>\n            <NavButton\n              mobileSite={mobile}\n              onClick={() => setShowNav(!showNav)}\n              style={{\n                float: \"left\",\n                marginTop: \"10px\",\n                width: \"120px\",\n                fontSize: \"20px\",\n                height: \"50px\",\n              }}\n            >\n              {showNav ? (\n                <i className=\"fas fa-times fa-2x\"></i>\n              ) : (\n                <i className=\"fas fa-bars fa-2x\"></i>\n              )}\n            </NavButton>\n            <ShoppingCart />\n          </>\n        )}\n        {showNav && (\n          <MobileNavButtonsDiv onClick={() => mobile && setShowNav(!showNav)}>\n            <Link to=\"/apple_shop/home\">\n              <NavButton mobileSite={true}>Home</NavButton>\n            </Link>\n            <Link to=\"/apple_shop/orders\">\n              <NavButton mobileSite={true} onClick={() => getOrders(user.role)}>\n                {isUserAdmin ? \"Orders\" : \"My Orders\"}\n              </NavButton>\n            </Link>\n            {isUserAdmin && (\n              <Link to=\"/apple_shop/create-product\">\n                <NavButton mobileSite={true}>Create a Product</NavButton>\n              </Link>\n            )}\n            <Link to=\"/apple_shop/products\">\n              <NavButton mobileSite={true}>Products</NavButton>\n            </Link>\n            <Link to=\"/apple_shop/password\">\n              <NavButton mobileSite={true}>Manage Passwords</NavButton>\n            </Link>\n            <div\n              className=\"logout\"\n              style={{\n                width: \"80vw\",\n                left: \"0\",\n                position: \"relative\",\n                border: \"none\",\n                display: \"flex\",\n                alignItems: \"flex-start\",\n                marginTop: \"10vh\",\n              }}\n            >\n              <Link>\n                <NavButton\n                  style={{ background: \"none\", color: \"#333d51\" }}\n                  mobileSite={true}\n                  onClick={logout}\n                >\n                  Logout\n                </NavButton>\n              </Link>\n            </div>\n          </MobileNavButtonsDiv>\n        )}\n      </Nav>\n    </>\n  );\n}\n\nexport default NavBar;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { IMAGES_URL } from \"../constants\";\nimport { Button } from \"./styledElements\";\n\nconst OrderItemDiv = styled.div`\n  display: grid;\n  width: 80%;\n  grid-template-areas:\n    \"pic title\"\n    \"pic price\"\n    \"pic subtotal\"\n    \"pic order\";\n  padding: 2rem;\n  @media (max-width: 768px) {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n  grid-template-columns: 1fr 2fr;\n  grid-template-rows: 1fr 1fr 1fr;\n  border: 1px solid lightgrey;\n  margin-bottom: 1rem;\n  border-radius: 0.4rem;\n  background: white;\n`;\n\nfunction OrderItem({\n  image,\n  title,\n  productId,\n  addToCart,\n  price,\n  quantity,\n  subtotal,\n}) {\n  const handleBuyAgain = () => {\n    const params = { product: productId, quantity: 1 };\n    addToCart(params);\n  };\n  return (\n    <OrderItemDiv>\n      <div className=\"order-image\" style={{ gridArea: \"pic\", width: \"200px\" }}>\n        <img\n          src={`${IMAGES_URL}/${image}`}\n          alt={title}\n          loading=\"lazy\"\n          className=\"product-img\"\n        />\n      </div>\n      <div className=\"order-item-title\" style={{ gridArea: \"title\" }}>\n        {title}\n      </div>\n      <div className=\"order-item-price\" style={{ gridArea: \"price\" }}>\n        <strong>{`Price: $${new Intl.NumberFormat().format(\n          price\n        )} x ${quantity}`}</strong>\n      </div>\n      <div className=\"subtotal\" style={{ gridArea: \"subtotal\" }}>\n        <strong>{`Subtotal: $${subtotal}.00`}</strong>\n      </div>\n      <div className=\"reorder\" style={{ gridArea: \"order\" }}>\n        <Button onClick={handleBuyAgain}>Buy Again</Button>\n      </div>\n    </OrderItemDiv>\n  );\n}\n\nexport default OrderItem;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport OrderItem from \"./OrderItem\";\n\nconst OrderWrapper = styled.div`\n  position: relative;\n  margin: 2rem auto;\n  width: 80vw;\n  height: auto;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: white;\n  border: 1px solid lightgrey;\n  border-radius: 0.4rem;\n`;\n\nfunction OrderView({\n  date,\n  total,\n  orderId,\n  user,\n  addToCart,\n  orderItems,\n  mobile,\n}) {\n  const orderHeader = (className, headerText, value) => {\n    return (\n      <div\n        className={className}\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          textAlign: \"center\",\n        }}\n      >\n        <h3>{headerText}</h3>\n        <div className={className}>{value}</div>\n      </div>\n    );\n  };\n  return (\n    <OrderWrapper>\n      <div\n        className=\"order-header\"\n        style={{\n          display: \"flex\",\n          flexDirection: mobile ? \"column\" : \"row\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          background: \"lightgrey\",\n          width: \"100%\",\n          marginBottom: \"1rem\",\n          padding: \"1rem\",\n          borderRadius: \"0.4rem\",\n          boxSizing: \"border-box\",\n        }}\n      >\n        {!mobile && orderHeader(\"user\", \"USER\", user)}\n        {orderHeader(\"date-placed\", \"ORDER PLACED\", date)}\n        {orderHeader(\"order-total\", \"TOTAL\", total)}\n        {!mobile && orderHeader(\"order-number\", \"ORDER #\", orderId)}\n      </div>\n      {orderItems?.map((item, i) => (\n        <OrderItem\n          image={item.productImage}\n          title={item.product}\n          productId={item.productId}\n          quantity={item.quantity}\n          addToCart={addToCart}\n          price={item.unitPrice}\n          subtotal={item.total}\n          key={i}\n        />\n      ))}\n    </OrderWrapper>\n  );\n}\n\nexport default OrderView;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport OrderView from \"./OrderView\";\n\nfunction Orders({ orders, mobile, addToCart }) {\n  const Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    position: relative;\n    top: 150px;\n    width: 100vw;\n    margin-left: auto;\n    margin-right: auto;\n  `;\n\n  return (\n    <Wrapper>\n      {!orders.length && (\n        <h2 style={{ marginLeft: \"auto\", marginRight: \"auto\" }}>\n          No orders placed yet!\n        </h2>\n      )}\n      {orders?.map((order, i) => (\n        <OrderView\n          total={order.order.OrderTotal}\n          user={order.order.user && order.order.user}\n          date={order.order.dateCreated}\n          orderId={order.order.id}\n          orderItems={order.order.items}\n          addToCart={addToCart}\n          mobile={mobile}\n          key={i}\n        />\n      ))}\n    </Wrapper>\n  );\n}\n\nexport default Orders;\n","import React, { useState } from \"react\";\nimport {\n  FormDiv,\n  Button,\n  Input,\n  PasswordChecks,\n  Check,\n} from \"./styledElements\";\nimport { toastConfig } from \"./styledElements\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { CheckSquare, XCircle } from \"react-feather\";\n\nfunction PasswordUpdate({ user, updatePassword }) {\n  const [currentPassword, setCurrentPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n\n  const passwordsMatch = newPassword === confirmPassword;\n\n  const handlePasswordUpdate = (e) => {\n    e.preventDefault();\n    if (!passwordsMatch) {\n      return toast.error(\"Passwords do not match\", toastConfig);\n    }\n    const params = {\n      password: user.password,\n      newPassword,\n      currentPassword,\n    };\n    updatePassword(e, params);\n  };\n\n  const characterCountRegex = /.{8,}/;\n  const uppercaseRegex = /(?=.*?[A-Z])/;\n  const specialCharacterRegex = /(?=.*?[#?!@$%^&*-])/;\n  const digitRegex = /(?=.*?[0-9])/;\n\n  const passwordRegex = /^(?=.*?[A-Z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/;\n\n  return (\n    <FormDiv style={{ width: \"340px\" }}>\n      <ToastContainer />\n      <form onSubmit={handlePasswordUpdate} className=\"password-update\">\n        <Input\n          value={currentPassword}\n          type=\"password\"\n          name=\"currentPassword\"\n          id=\"currentPassword\"\n          placeholder=\"Enter current password\"\n          onChange={(e) => setCurrentPassword(e.target.value)}\n          required\n        />\n        <Input\n          value={newPassword}\n          type=\"password\"\n          name=\"newPassword\"\n          id=\"newPassword\"\n          placeholder=\"Enter new password\"\n          onChange={(e) => setNewPassword(e.target.value)}\n          required\n        />\n        {newPassword && (\n          <PasswordChecks>\n            <Check>\n              {characterCountRegex.test(newPassword) ? (\n                <CheckSquare\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                />\n              ) : (\n                <XCircle\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                />\n              )}\n              <span style={{ fontSize: \"14px\" }}>\n                Password must contain atleast 8 characters\n              </span>\n            </Check>\n            <Check>\n              {uppercaseRegex.test(newPassword) ? (\n                <CheckSquare\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                />\n              ) : (\n                <XCircle\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                />\n              )}\n              <span style={{ fontSize: \"14px\" }}>\n                Password must contain atleast one uppercase\n              </span>\n            </Check>\n            <Check>\n              {digitRegex.test(newPassword) ? (\n                <CheckSquare\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                />\n              ) : (\n                <XCircle\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                />\n              )}\n              <span style={{ fontSize: \"14px\" }}>\n                Password must contain atleast one digit\n              </span>\n            </Check>\n            <Check>\n              {specialCharacterRegex.test(newPassword) ? (\n                <CheckSquare\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                />\n              ) : (\n                <XCircle\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                />\n              )}\n              <span style={{ fontSize: \"14px\" }}>\n                Password must contain atleast one special character\n              </span>\n            </Check>\n          </PasswordChecks>\n        )}\n        <Input\n          value={confirmPassword}\n          type=\"password\"\n          name=\"confirmPassword\"\n          id=\"confirmPassword\"\n          placeholder=\"Reenter new password\"\n          onChange={(e) => setConfirmPassword(e.target.value)}\n          required\n        />\n        {confirmPassword && (\n          <PasswordChecks style={{ height: \"auto\" }}>\n            <Check>\n              {passwordsMatch ? (\n                <CheckSquare\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                />\n              ) : (\n                <XCircle\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                />\n              )}\n              <span style={{ fontSize: \"14px\" }}>\n                {passwordsMatch ? \"Passwords match\" : \"Passwords do not match\"}\n              </span>\n            </Check>\n          </PasswordChecks>\n        )}\n        <Button\n          disabled={!passwordsMatch || !passwordRegex.test(newPassword)}\n          type=\"submit\"\n          style={{ width: \"180px\" }}\n        >\n          Update Password\n        </Button>\n      </form>\n    </FormDiv>\n  );\n}\n\nexport default PasswordUpdate;\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport {\n  FormDiv,\n  Button,\n  Input,\n  PasswordChecks,\n  Check,\n} from \"./styledElements\";\nimport { toastConfig } from \"./styledElements\";\nimport styled from \"styled-components\";\nimport { CheckSquare, XCircle } from \"react-feather\";\n\nconst LoginButton = styled.button`\n  border: none;\n  border-bottom: solid 1px black;\n  outline: none;\n  cursor: pointer;\n  font-family: \"Roboto Condensed\", sans-serif;\n  background: none;\n  font-size: 16px;\n  transition: all 0.3s;\n  &:hover {\n    background-color: #212a31;\n    color: white;\n    transform: scale(1.2);\n    border: solid 1px white;\n    border-radius: 0.4rem;\n  }\n`;\n\nfunction Register({ handleRegister }) {\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [usernameError, setUsernameError] = useState(false);\n  const [emailError, setEmailError] = useState(false);\n\n  const passwordsMatch = password === confirmPassword;\n\n  const validate = (e, params) => {\n    if (!passwordsMatch) {\n      toast.error(\"Passwords do not match.\", toastConfig);\n      e.preventDefault();\n    }\n\n    if (!email) {\n      setEmailError(true);\n      //toast.error('Please enter an email address.', toastConfig);\n      e.preventDefault();\n    }\n\n    if (!username) {\n      setUsernameError(true);\n      //toast.error('Please enter a username.', toastConfig);\n      e.preventDefault();\n    }\n    if (username && email && passwordsMatch) {\n      params = { email, password, username };\n      handleRegister(e, params);\n    }\n  };\n\n  const characterCountRegex = /.{8,}/;\n  const uppercaseRegex = /(?=.*?[A-Z])/;\n  const specialCharacterRegex = /(?=.*?[#?!@$%^&*-])/;\n  const digitRegex = /(?=.*?[0-9])/;\n\n  const passwordRegex = /^(?=.*?[A-Z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/;\n\n  useEffect(() => {\n    email && setEmailError(false);\n    username && setUsernameError(false);\n  }, [email, username]);\n\n  return (\n    <Fragment>\n      <ToastContainer />\n      <div\n        className=\"header\"\n        style={{ display: \"flex\", justifyContent: \"center\", fontSize: \"24px\" }}\n      >\n        <h1>\n          Welcome to Apple Shop <i className=\"fab fa-apple\"></i>\n        </h1>\n      </div>\n      <FormDiv style={{ top: \"60px\", width: \"340px\" }}>\n        <form onSubmit={validate}>\n          <Input\n            type=\"text\"\n            name=\"username\"\n            id=\"username\"\n            placeholder=\"Username\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n          />\n          <br />\n          {usernameError && (\n            <>\n              <span style={{ fontSize: \"14px\", color: \"red\" }}>\n                Please enter a username\n              </span>\n              <br />\n            </>\n          )}\n          <Input\n            type=\"email\"\n            name=\"email\"\n            id=\"email\"\n            placeholder=\"Email address\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n          <br />\n          {emailError && (\n            <>\n              <span style={{ fontSize: \"14px\", color: \"red\" }}>\n                Please enter an email address\n              </span>\n              <br />\n            </>\n          )}\n          <Input\n            type=\"password\"\n            name=\"password\"\n            id=\"password\"\n            placeholder=\"Password\"\n            onChange={(e) => setPassword(e.target.value)}\n            value={password}\n          />\n          <br />\n          {password && (\n            <PasswordChecks>\n              <Check>\n                {characterCountRegex.test(password) ? (\n                  <CheckSquare\n                    size={20}\n                    style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                  />\n                ) : (\n                  <XCircle\n                    size={20}\n                    style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                  />\n                )}\n                <span style={{ fontSize: \"14px\" }}>\n                  Password must contain atleast 8 characters\n                </span>\n              </Check>\n              <Check>\n                {uppercaseRegex.test(password) ? (\n                  <CheckSquare\n                    size={20}\n                    style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                  />\n                ) : (\n                  <XCircle\n                    size={20}\n                    style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                  />\n                )}\n                <span style={{ fontSize: \"14px\" }}>\n                  Password must contain atleast one uppercase\n                </span>\n              </Check>\n              <Check>\n                {digitRegex.test(password) ? (\n                  <CheckSquare\n                    size={20}\n                    style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                  />\n                ) : (\n                  <XCircle\n                    size={20}\n                    style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                  />\n                )}\n                <span style={{ fontSize: \"14px\" }}>\n                  Password must contain atleast one digit\n                </span>\n              </Check>\n              <Check>\n                {specialCharacterRegex.test(password) ? (\n                  <CheckSquare\n                    size={20}\n                    style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                  />\n                ) : (\n                  <XCircle\n                    size={20}\n                    style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                  />\n                )}\n                <span style={{ fontSize: \"14px\" }}>\n                  Password must contain atleast one special character\n                </span>\n              </Check>\n            </PasswordChecks>\n          )}\n          <Input\n            type=\"password\"\n            name=\"confirm\"\n            id=\"confirm\"\n            placeholder=\"Confirm Password\"\n            value={confirmPassword}\n            onChange={(e) => setConfirmPassword(e.target.value)}\n          />\n          <br />\n          {confirmPassword && (\n            <PasswordChecks style={{ height: \"auto\" }}>\n              <Check>\n                {passwordsMatch ? (\n                  <CheckSquare\n                    size={20}\n                    style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                  />\n                ) : (\n                  <XCircle\n                    size={20}\n                    style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                  />\n                )}\n                <span style={{ fontSize: \"14px\" }}>\n                  {passwordsMatch\n                    ? \"Passwords match\"\n                    : \"Passwords do not match\"}\n                </span>\n              </Check>\n            </PasswordChecks>\n          )}\n          <Button\n            disabled={!passwordsMatch || !passwordRegex.test(password)}\n            type=\"submit\"\n          >\n            Register\n          </Button>\n        </form>\n        <footer>\n          <Link to=\"/apple_shop\">\n            <LoginButton>Log in instead?</LoginButton>\n          </Link>\n        </footer>\n      </FormDiv>\n    </Fragment>\n  );\n}\n\nexport default Register;\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport { Route, Routes, useNavigate } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport LoadingBar from \"react-top-loading-bar\";\nimport { setBearerToken, shopApiInstance } from \"./network\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport {\n  Login,\n  Register,\n  Catalogue,\n  NavBar,\n  Orders,\n  Home,\n  Cart,\n  CreateProduct,\n  PasswordUpdate,\n  toastConfig,\n} from \"./components\";\nimport { usePersistedState } from \"./utils\";\nimport {\n  login,\n  loginFailure,\n  loginSuccess,\n  logout,\n} from \"./redux/resources/user\";\nimport {\n  getOrdersFailure,\n  getOrdersRequest,\n  getOrdersSuccess,\n} from \"./redux/resources/orders\";\nimport {\n  getProductsFailure,\n  getProductsRequest,\n  getProductsSuccess,\n} from \"./redux/resources/products\";\nimport {\n  getCartSuccess,\n  getCartRequest,\n  getCartFailure,\n} from \"./redux/resources/cart\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nfunction App() {\n  const [mobile, setMobile] = usePersistedState(\"mobile\", false);\n  const [progress, setProgress] = usePersistedState(\"progress\", 0);\n  const [cartCount, setCartCount] = useState(0);\n\n  const dispatch = useDispatch();\n  const { user, orders, products, cart } = useSelector((state) => state);\n\n  useEffect(() => {\n    const count = cart.items\n      ? cart.items.reduce((acc, item) => acc + item.quantity, 0)\n      : 0;\n    setCartCount(count);\n  }, [cart]);\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    window.addEventListener(\"load\", () => {\n      setBearerToken(user.token ?? \"\");\n    });\n    window.addEventListener(\"resize\", () =>\n      window.innerWidth < 768 ? setMobile(true) : setMobile(false)\n    );\n  });\n\n  useEffect(() => {\n    window.innerWidth < 768 ? setMobile(true) : setMobile(false);\n  }, [setMobile]);\n\n  const getCart = async () => {\n    try {\n      const response = await shopApiInstance.get(\"/cart\");\n      dispatch(getCartSuccess(response.data));\n    } catch (error) {\n      dispatch(getCartFailure(error));\n    }\n  };\n\n  const getOrders = async (role) => {\n    const url = role === \"administrator\" ? \"/orders/admin\" : \"/orders\";\n    try {\n      const response = await shopApiInstance.get(url);\n      if (response.data.orders) {\n        dispatch(getOrdersSuccess(response.data.orders.reverse()));\n      } else {\n        dispatch(getOrdersSuccess([]));\n      }\n    } catch (error) {\n      dispatch(getOrdersFailure(error));\n    }\n  };\n\n  const getProducts = async () => {\n    try {\n      const response = await shopApiInstance.get(\"/products\");\n      dispatch(getProductsSuccess(response.data.products.reverse()));\n    } catch (error) {\n      dispatch(getProductsFailure(error));\n    }\n  };\n\n  const getUser = (token) => {\n    const decodedUser = jwt_decode(token);\n    const { username, email, role, password, userId } = decodedUser;\n    const loggedInUser = { username, email, role, password, userId, token };\n    dispatch(loginSuccess(loggedInUser));\n  };\n\n  const handleLogin = async (e, params) => {\n    setProgress(40);\n    e.preventDefault();\n    dispatch(login());\n    dispatch(getOrdersRequest());\n    dispatch(getProductsRequest());\n    dispatch(getCartRequest());\n    try {\n      const response = await shopApiInstance.post(\"/users/signin\", params);\n      e.target.reset();\n      setProgress(100);\n      setBearerToken(response.data.token);\n      getUser(response.data.token);\n      getCart();\n      getOrders(user.role);\n      getProducts();\n      toast.success(\"Successfully logged in!\", toastConfig);\n      navigate(\"/apple_shop/home\");\n    } catch (err) {\n      setProgress(100);\n      console.log(err);\n      const error = () => {\n        if (err.message.includes(\"401\"))\n          return \"Email/Password combination incorrect. Try again.\";\n        if (err.message.includes(\"404\")) return \"User not found.\";\n      };\n      dispatch(loginFailure(error()));\n      toast.error(error(), toastConfig);\n    }\n  };\n\n  const handleRegister = async (e, params) => {\n    setProgress(40);\n    e.preventDefault();\n    try {\n      const response = await shopApiInstance.post(\"/users/signup\", params);\n      if (response.data) {\n        toast.success(\"Product successfully created\", toastConfig);\n        getProducts();\n        navigate(\"/apple_shop/products\");\n      }\n    } catch (err) {\n      setProgress(100);\n      toast.error(err.message, toastConfig);\n    }\n  };\n\n  const addProduct = async (e, params) => {\n    dispatch(getProductsRequest());\n    try {\n      const response = await shopApiInstance.post(\"/products\", params);\n      if (response.data) {\n        toast.success(\"Product successfully created\", toastConfig);\n        getProducts();\n        navigate(\"/apple_shop/products\");\n      }\n    } catch (err) {\n      dispatch(getProductsFailure(err));\n      toast.error(err.message, toastConfig);\n    } finally {\n      e.target.reset();\n    }\n  };\n\n  const updateProduct = async (e, id, params) => {\n    dispatch(getProductsRequest());\n    try {\n      const response = await shopApiInstance.put(`/products/${id}`, params);\n      if (response.data) {\n        toast.success(\"Product successfully updated\", toastConfig);\n        getProducts();\n        navigate(\"/apple_shop/products\");\n      }\n    } catch (err) {\n      dispatch(getProductsFailure(err));\n      toast.error(err.message, toastConfig);\n    } finally {\n      e.target.reset();\n    }\n  };\n\n  const deleteProduct = async (id) => {\n    dispatch(getProductsRequest());\n    const deleteParams = { productId: id };\n    try {\n      const response = await shopApiInstance.delete(\"/orders/delete\", {\n        data: deleteParams,\n      });\n      if (response.data) {\n        const productDeleteResponse = await shopApiInstance.delete(\n          `/products/${id}`\n        );\n        if (productDeleteResponse.data) {\n          toast.success(\"Product successfully deleted\", toastConfig);\n          getProducts();\n          navigate(\"/apple_shop/products\");\n        }\n      }\n    } catch (err) {\n      dispatch(getProductsFailure(err));\n      toast.error(err.message, toastConfig);\n    }\n  };\n\n  const updatePassword = async (e, params) => {\n    try {\n      const response = await shopApiInstance.put(\n        `/users/${user.userId}`,\n        params\n      );\n      if (response.data) {\n        toast.success(\"Password successfully updated\", toastConfig);\n        navigate(\"/apple_shop/home\");\n      }\n    } catch (err) {\n      const error = err.message.includes(\"401\")\n        ? \"Incorrect password. Try again.\"\n        : err.message;\n      toast.error(error, toastConfig);\n    } finally {\n      e.target.reset();\n    }\n  };\n\n  const updateProductAvailability = async (path) => {\n    dispatch(getProductsRequest());\n    try {\n      const response = await shopApiInstance.put(path);\n      if (response.data) {\n        toast.success(\"Product availability successfully updated\", toastConfig);\n        getProducts();\n        navigate(\"/apple_shop/products\");\n      }\n    } catch (err) {\n      dispatch(getProductsFailure(err));\n      toast.error(err.message, toastConfig);\n    }\n  };\n\n  const addToCart = async (params) => {\n    dispatch(getCartRequest());\n    try {\n      const response = await shopApiInstance.post(\"/cart\", params);\n      if (response.data) {\n        toast.success(\"Product successfully added to cart\", toastConfig);\n        getCart();\n      }\n    } catch (err) {\n      dispatch(getCartFailure(err));\n      toast.error(err.message, toastConfig);\n    }\n  };\n\n  const updateCart = async (params) => {\n    try {\n      const response = await shopApiInstance.put(\"/cart/update\", params);\n      if (response.data) {\n        toast.success(\"Cart successfully updated\", toastConfig);\n        getCart();\n      }\n    } catch (err) {\n      dispatch(getCartFailure(err));\n      toast.error(err.message, toastConfig);\n    }\n  };\n\n  const removeFromCart = async (params) => {\n    dispatch(getCartRequest());\n    try {\n      const response = await shopApiInstance.put(\"/cart/remove\", params);\n      if (response.data) {\n        toast.success(\"Product successfully removed from cart\", toastConfig);\n        getCart();\n      }\n    } catch (err) {\n      dispatch(getCartFailure(err));\n      toast.error(err.message, toastConfig);\n    }\n  };\n\n  const placeOrder = async () => {\n    dispatch(getOrdersRequest());\n    dispatch(getCartRequest());\n    try {\n      const response = await shopApiInstance.post(\"/orders\");\n      if (response.data) {\n        toast.success(\"Order successfully placed\", toastConfig);\n        getOrders(user.role);\n        getCart();\n      }\n    } catch (err) {\n      dispatch(getCartFailure(err));\n      dispatch(getOrdersFailure(err));\n      toast.error(err.message, toastConfig);\n    }\n  };\n\n  const logoutUser = () => {\n    setBearerToken(\"\");\n    toast.dark(\"Logged out.\", toastConfig);\n    navigate(\"/apple_shop\");\n    dispatch(logout());\n    sessionStorage.clear();\n  };\n\n  return (\n    <Fragment>\n      <LoadingBar\n        color=\"blue\"\n        progress={progress}\n        onLoaderFinished={() => setProgress(0)}\n      />\n      <ToastContainer />\n      {user.user.isLoggedIn && (\n        <NavBar\n          logout={logoutUser}\n          getOrders={getOrders}\n          user={user.user}\n          mobile={mobile}\n          cartCount={cartCount}\n        />\n      )}\n      <Routes>\n        <Route\n          exact\n          path=\"/apple_shop\"\n          element={<Login handleLogin={handleLogin} />}\n        />\n        <Route path=\"/apple_shop/home\" element={<Home />} />\n        <Route\n          path=\"/apple_shop/register\"\n          element={<Register handleRegister={handleRegister} />}\n        />\n        <Route\n          path=\"/apple_shop/products\"\n          element={\n            <Catalogue\n              products={products.products}\n              user={user.user}\n              addToCart={addToCart}\n              deleteProduct={deleteProduct}\n              updateProductAvailability={updateProductAvailability}\n              updateProduct={updateProduct}\n              mobile={mobile}\n            />\n          }\n        />\n        <Route\n          path=\"/apple_shop/orders\"\n          element={\n            <Orders\n              orders={orders.orders}\n              mobile={mobile}\n              addToCart={addToCart}\n            />\n          }\n        />\n        <Route\n          path=\"/apple_shop/cart\"\n          element={\n            <Cart\n              updateCart={updateCart}\n              cart={cart}\n              count={cartCount}\n              removeFromCart={removeFromCart}\n              placeOrder={placeOrder}\n              mobile={mobile}\n            />\n          }\n        />\n        <Route\n          path=\"/apple_shop/create-product\"\n          element={<CreateProduct addProduct={addProduct} />}\n        />\n        <Route\n          path=\"/apple_shop/password\"\n          element={\n            <PasswordUpdate user={user.user} updatePassword={updatePassword} />\n          }\n        />\n      </Routes>\n    </Fragment>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}