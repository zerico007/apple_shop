{"version":3,"sources":["constants.js","network.js","components/styledElements.js","components/Login.js","components/Register.js","components/Modal.js","components/ProductVideo.js","components/ProductView.js","components/SearchBar.js","components/Catalogue.js","assets/apple_shop_wave.svg","components/NavBar.js","components/OrderView.js","components/Orders.js","assets/apple-products.jpeg","components/Home.js","components/CreateProduct.js","components/PasswordUpdate.js","utils.js","components/App.js","index.js"],"names":["IMAGES_URL","shopApiInstance","axios","create","baseURL","interceptors","response","use","newAccessToken","currentToken","defaults","headers","common","split","jwt_decode","exp","Date","now","console","log","setBearerToken","localStorage","setItem","info","error","Promise","reject","token","FormDiv","styled","div","Input","input","Button","button","PasswordChecks","Check","toastConfig","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","Login","handleLogin","RegisterButton","emailRef","useRef","passwordRef","className","style","display","justifyContent","fontSize","textAlign","onSubmit","e","params","email","current","value","password","type","name","id","placeholder","ref","to","LoginButton","Register","handleRegister","useState","setPassword","setEmail","username","setUsername","confirmPassword","setConfirmPassword","usernameError","setUsernameError","emailError","setEmailError","passwordsMatch","useEffect","top","width","toast","preventDefault","onChange","target","color","test","size","marginRight","height","disabled","Modal","productId","toggle","deleteProduct","UpdateProductModal","quantityRef","quantity","product","post","then","data","dark","message","catch","err","reset","defaultValue","onClick","alignSelf","ProductVideo","videoURL","showCloseButton","closeButton","setMountVideo","mountVideo","mobile","left","url","playing","controls","pip","playsinline","stopOnUnmount","ProductDiv","ImageDiv","TitleDiv","PriceDiv","ProductView","img_url","price","title","user","available","updateProductAvailability","updateProduct","setCloseButton","setDisplay","updatedImage","setUpdatedImage","newPrice","newTitle","setTimeout","thing","document","querySelector","classList","handleUpdateProduct","FormData","append","isUserAdmin","role","encType","files","src","alt","loading","Intl","NumberFormat","format","gridArea","marginLeft","path","handleAvailability","SearchBar","search","updateSearch","SearchDiv","border","borderRadius","autoFocus","float","Wrapper","Catalogue","products","setSearch","term","map","i","productImage","toLowerCase","includes","Nav","nav","NavButton","props","mobileSite","NavButtonsDiv","MobileNavButtonsDiv","wave","NavBar","logout","getOrders","getAdminOrders","showNav","setShowNav","translucent","setTranslucent","window","addEventListener","scrollY","opacity","marginTop","textShadow","zIndex","alignItems","background","OrderView","total","date","OrderDiv","QuantityDiv","TotalDiv","DateDiv","toString","Orders","orders","length","order","unitPrice","Total","dateCreated","Home","StyledWrapper","StyledContainer","homeBackground","CreateProduct","addProduct","image","setImage","nameRef","priceRef","videoRef","required","PasswordUpdate","updatePassword","currentPassword","setCurrentPassword","newPassword","setNewPassword","usePersistedState","key","JSON","parse","sessionStorage","getItem","state","setState","stringify","App","setProducts","setUser","authenticated","setAuthenticated","setOrders","setMobile","progress","setProgress","history","useHistory","innerWidth","get","reverse","getProducts","getUser","userId","a","success","push","put","deleteParams","delete","result","onLoaderFinished","clear","exact","render","component","ReactDOM"],"mappings":"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","file":"static/js/main.d1e00fbe.chunk.js","sourcesContent":["export const BASE_URL = \"https://apple-shop-backend.herokuapp.com/api\";\n\nexport const IMAGES_URL = \"https://apple-shop-backend.herokuapp.com\";\n","import axios from 'axios';\nimport jwt_decode from 'jwt-decode';\nimport {BASE_URL} from './constants';\n\nconst shopApiInstance = axios.create({\n    baseURL: BASE_URL\n\n});\n\nshopApiInstance.interceptors.response.use(\n    response => {\n    let newAccessToken;\n    const currentToken = shopApiInstance.defaults.headers.common['Authorization'] && shopApiInstance.defaults.headers.common['Authorization'].split(' ')[1];\n    if (currentToken) {\n        const currentDecodedToken = jwt_decode(currentToken);\n        const {exp} = currentDecodedToken;\n        if (exp * 1000 < Date.now()) {\n            console.log('token expired')\n            if (response.headers['shop-refreshed-access-token']){\n                newAccessToken = response.headers['shop-refreshed-access-token']\n                setBearerToken(newAccessToken);\n                localStorage.setItem('token', newAccessToken);\n                console.info('access token renewed')\n            }\n        } else {\n            console.info('token still good')\n        }\n    }\n    \n    return response;\n  }, \n  error => {\n    return Promise.reject(error);\n  });\n\nconst setBearerToken = token => {\n    shopApiInstance.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    console.log(`Set bearer token, ${token}`);\n}\n\nexport {shopApiInstance, setBearerToken};\n","\nimport styled from '@emotion/styled';\n\n\nconst FormDiv = styled.div`\n        top: 150px;\n        margin-left: auto;\n        margin-right: auto;\n        position: relative;\n        background: white;\n        width: 300px;\n        border: none;\n        border-radius: 0.3rem;\n        padding: 20px;\n    `;\n\n    const Input = styled.input`\n        height: 1.5em;\n        width: 250px;\n        border-bottom: 2px solid gray;\n        margin-top: 10px;\n        margin-bottom: 10px;\n        padding: 10px;\n        font-family: \"Roboto Condensed\", sans-serif;\n        font-size: 16px;\n        border-top: none;\n        border-left: none;\n        border-right: none;\n    `;\n\n    const Button = styled.button`\n        height: 2.5em;\n        font-size: 16px;\n        width: 100px;\n        padding: 5px;\n        margin-top: 10px;\n        margin-bottom: 15px;\n        color: #F4F3EA;\n        background-color: #333D51;\n        transition: all 0.3s;\n        &:hover {\n            background-color: #D3AC2B;\n            color: #212a31;\n            transform: scale(1.1);\n            border: solid 1px #333D51;\n        }\n        outline: none;\n        cursor: pointer;\n        &:active {\n            transform: translateY(4px);\n        }\n        border-radius: 0.4rem;\n        font-family: \"Roboto Condensed\", sans-serif;\n        font-weight: 700;\n        border: none;\n    `;\n\n    const PasswordChecks = styled.div`\n        width: 320px;\n        height: 170px;\n        display: flex;\n        flex-direction: column;\n        row-gap: 0.7rem;\n        padding: 10px;\n        margin-top: 5px;\n        margin-bottom: 5px;\n        background: linear-gradient(0.25turn, #cbd0d8, #f4f3ea);\n        border: none;\n        border-radius: 4px;\n    `;\n\n    const Check = styled.div`\n        height: 1.5rem;\n        width: fit-content;\n        padding: 3px;\n        display: flex;\n        flex-direction: row;\n    `;\n\n\n    const toastConfig = {\n        position: \"top-center\",\n        autoClose: 1500,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n    }\n\nexport {FormDiv, Button, Input, toastConfig, PasswordChecks, Check};","import React, { useRef, Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from '@emotion/styled';\nimport {FormDiv, Button, Input} from './styledElements';\n\n\nfunction Login({handleLogin}) {\n    \n    const RegisterButton = styled.button`\n        border: none;\n        border-bottom: solid 1px #212a31;\n        outline: none;\n        cursor: pointer;\n        font-family: \"Roboto Condensed\", sans-serif;\n        background: none;\n        font-size: 16px;\n        transition: all 0.3s;\n        &:hover {\n            background-color: #212a31;\n            color: white;\n            transform: scale(1.2);\n            border: solid 1px white;\n            border-radius: 0.4rem;\n            margin-left: 10px;\n        }\n    `;\n\n    const emailRef = useRef();\n    const passwordRef = useRef();\n\n    const handleSubmit = e => {\n        const params = {email: emailRef.current.value, password: passwordRef.current.value};\n        handleLogin(e, params);\n    }\n\n    return (\n        <Fragment>\n            <div className=\"header\" style={{display: 'flex', justifyContent: 'center', fontSize: '24px'}}>\n            <h1 style={{textAlign:'center'}}>Welcome to Apple Shop <i className=\"fab fa-apple\"></i></h1>\n            </div>\n            <FormDiv>\n                <form onSubmit={handleSubmit}>\n                <Input type=\"email\" \n                name=\"email\" \n                id=\"email\" \n                placeholder=\"Email address\" \n                ref={emailRef}/>\n                <Input type=\"password\" \n                name=\"password\" \n                id=\"password\" \n                placeholder=\"Password\"\n                ref={passwordRef}/><br></br>\n                <Button type=\"submit\">Login</Button>\n                </form>\n                <footer>New user? <Link to='/apple_shop/register'><RegisterButton>Register here</RegisterButton></Link></footer>\n            </FormDiv>\n        </Fragment>\n    )\n}\n\nexport default Login;","import React, { Fragment, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { toast, ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport {FormDiv, Button, Input, PasswordChecks, Check} from './styledElements';\nimport { toastConfig } from './styledElements';\nimport styled from '@emotion/styled';\nimport { CheckSquare, XCircle } from 'react-feather';\n\nconst LoginButton = styled.button`\n        border: none;\n        border-bottom: solid 1px black;\n        outline: none;\n        cursor: pointer;\n        font-family: \"Roboto Condensed\", sans-serif;\n        background: none;\n        font-size: 16px;\n        transition: all 0.3s;\n        &:hover {\n            background-color: #212a31;\n            color: white;\n            transform: scale(1.2);\n            border: solid 1px white;\n            border-radius: 0.4rem;\n        }\n    `;\n\n    \nfunction Register({handleRegister}) {\n\n\n    const [ password, setPassword ] = useState('');\n    const [ email, setEmail ] = useState('');\n    const [ username, setUsername ] = useState('');\n    const [ confirmPassword, setConfirmPassword ] = useState('');\n    const [ usernameError, setUsernameError ] = useState(false);\n    const [ emailError, setEmailError ] = useState(false);\n\n    const passwordsMatch = password === confirmPassword;\n\n    const validate = (e, params) => {\n        if (!passwordsMatch) {\n            toast.error('Passwords do not match.', toastConfig);\n            e.preventDefault();\n        } \n        \n        if (!email) {\n            setEmailError(true);\n            //toast.error('Please enter an email address.', toastConfig);\n            e.preventDefault();\n        } \n        \n        if (!username) {\n            setUsernameError(true);\n            //toast.error('Please enter a username.', toastConfig);\n            e.preventDefault();\n        } \n        if (username && email && passwordsMatch){\n            params = {email, password, username};\n            handleRegister(e, params);\n        }\n    }\n\n    const characterCountRegex = /.{8,}/;\n    const uppercaseRegex = /(?=.*?[A-Z])/;\n    const specialCharacterRegex = /(?=.*?[#?!@$%^&*-])/;\n    const digitRegex = /(?=.*?[0-9])/;\n\n    const passwordRegex = /^(?=.*?[A-Z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/\n\n    useEffect(() => {\n        email && setEmailError(false);\n        username && setUsernameError(false);\n    })\n    \n    return (\n        <Fragment>\n            <ToastContainer/>\n            <div className=\"header\" style={{display: 'flex', justifyContent: 'center', fontSize: '24px'}}>\n            <h1 >Welcome to Apple Shop <i className=\"fab fa-apple\"></i></h1>\n            </div>\n            <FormDiv style={{top: '60px', width: '340px'}}>\n                <form onSubmit={validate}>\n                <Input type=\"text\" \n                name=\"username\" \n                id=\"username\" \n                placeholder=\"Username\" \n                value={username}\n                onChange={(e) => setUsername(e.target.value)}/>\n                <br/>\n                {usernameError &&\n                <>\n                <span style={{fontSize: '14px', color: 'red'}}>Please enter a username</span>\n                <br/>\n                </>}\n                <Input type=\"email\" \n                name=\"email\" \n                id=\"email\" \n                placeholder=\"Email address\" \n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                />\n                <br/>\n                {emailError &&\n                <>\n                <span style={{fontSize: '14px', color: 'red'}}>Please enter an email address</span>\n                <br/>\n                </>}\n                <Input type=\"password\" \n                name=\"password\" \n                id=\"password\" \n                placeholder=\"Password\"\n                onChange={(e) => setPassword(e.target.value)}\n                value={password}/>\n                <br/>\n                {password && \n                <PasswordChecks>\n                    <Check>\n                        {characterCountRegex.test(password) ? <CheckSquare size={20} style={{marginRight: '0.5rem', color: 'green'}}/>\n                        : <XCircle size={20} style={{marginRight: '0.5rem', color: 'red'}}/>}\n                        <span style={{fontSize: '14px'}}>Password must contain atleast 8 characters</span>\n                    </Check>\n                    <Check>\n                        {uppercaseRegex.test(password) ? <CheckSquare size={20} style={{marginRight: '0.5rem', color: 'green'}}/>\n                        : <XCircle size={20} style={{marginRight: '0.5rem', color: 'red'}}/>}\n                        <span style={{fontSize: '14px'}}>Password must contain atleast one uppercase</span>\n                    </Check>\n                    <Check>\n                        {digitRegex.test(password) ? <CheckSquare size={20} style={{marginRight: '0.5rem', color: 'green'}}/>\n                        : <XCircle size={20} style={{marginRight: '0.5rem', color: 'red'}}/>}\n                        <span style={{fontSize: '14px'}}>Password must contain atleast one digit</span>\n                    </Check>\n                    <Check>\n                        {specialCharacterRegex.test(password) ? <CheckSquare size={20} style={{marginRight: '0.5rem', color: 'green'}}/>\n                        : <XCircle size={20} style={{marginRight: '0.5rem', color: 'red'}}/>}\n                        <span style={{fontSize: '14px'}}>Password must contain atleast one special character</span>\n                    </Check>\n                </PasswordChecks>}\n                <Input type=\"password\" \n                name=\"confirm\" \n                id=\"confirm\" \n                placeholder=\"Confirm Password\"\n                value={confirmPassword}\n                onChange={(e) => setConfirmPassword(e.target.value)}/>\n                <br/>\n                {confirmPassword && \n                <PasswordChecks style={{height: 'auto'}}>\n                    <Check>\n                        {passwordsMatch ? <CheckSquare size={20} style={{marginRight: '0.5rem', color: 'green'}}/>\n                        : <XCircle size={20} style={{marginRight: '0.5rem', color: 'red'}}/>}\n                        <span style={{fontSize: '14px'}}>{passwordsMatch ? 'Passwords match' : 'Passwords do not match'}</span>\n                    </Check>    \n                </PasswordChecks>}\n                <Button disabled={!passwordsMatch || !passwordRegex.test(password)} type=\"submit\">Register</Button>\n                </form>\n                <footer><Link to='/apple_shop'><LoginButton>Log in instead?</LoginButton></Link></footer>\n            </FormDiv>\n        </Fragment>\n    )\n\n}\n\nexport default Register;\n","import React, { useRef, Fragment } from 'react';\nimport { Button, Input } from './styledElements';\nimport { shopApiInstance } from '../network';\nimport { toast, ToastContainer } from 'react-toastify';\nimport { toastConfig } from './styledElements'; \n\n\nfunction Modal({productId, toggle, display, deleteProduct, UpdateProductModal}) {\n\n    const quantityRef = useRef();\n\n    const placeOrder = e => {\n        e.preventDefault();\n        toggle('modal');\n        const quantity = quantityRef.current.value;\n        if(quantity === '0') return toast.error('Please enter a quantity', toastConfig);\n        console.log(productId, quantity);\n        const params = {product: productId, quantity};\n        shopApiInstance.post('/orders/', params)\n        .then(response => {\n            console.log(response.data);\n            toast.dark(response.data.message, toastConfig);\n        }).catch(err => {\n            console.log(err.message);\n            toast.error(err.message, toastConfig);\n        })\n        e.target.reset();\n    }\n\n    return (\n        <Fragment>\n            <ToastContainer />\n            <div className={`modal modal-${productId}`} style={{top: '0px'}}>\n                <div className=\"modal-content\">\n                { display === 'order' &&\n                    <Fragment>\n                        <h3 className=\"order-modal\">How many would you like to order?</h3>\n                        <form onSubmit={placeOrder}>\n                        <Input \n                        type='number' \n                        name=\"quantity\" \n                        defaultValue=\"1\" \n                        ref={quantityRef} \n                        style={{textAlign: 'center'}}/>\n                        <br/>\n                        <Button type='submit' style={{width: '130px'}}>Confirm Order</Button>\n                        </form>\n                    </Fragment>\n                }\n                {   display === 'delete' && \n                    <Fragment>\n                        <h3 className=\"delete-modal\">Are you sure you want to delete this product?</h3>\n                        <Button onClick={() => deleteProduct(productId)} style={{width: '120px', alignSelf: 'center'}}>Confirm Delete</Button>\n                    </Fragment>\n                }\n                {   display === 'update' &&\n                    <Fragment>\n                        <UpdateProductModal/>\n                    </Fragment>\n\n                }\n                <Button style={{alignSelf: 'center'}} onClick={() => toggle('modal')}>Cancel</Button>\n                </div>\n        </div>\n    </Fragment>\n    )\n}\n\nexport default Modal;","import React from 'react';\nimport ReactPlayer from 'react-player';\n\nfunction ProductVideo ({videoURL, productId, showCloseButton, closeButton, setMountVideo, mountVideo, mobile}) {\n\n    return (\n        <div className={`video-div video-${productId}`} style={{top: '0px'}}>\n            <ReactPlayer \n                className=\"video-player\"\n                style={{left: mobile ? '0' : '25vw'}}\n                url={videoURL}\n                playing={mountVideo}\n                controls={false}\n                width={mobile ? '97vw' : '600px'}\n                height={'500px'}\n                pip={true}\n                playsinline={true}\n                stopOnUnmount={true}\n            />\n            { closeButton && <button \n                className=\"close-video\" \n                onClick={() => { showCloseButton(); setMountVideo(!mountVideo)}}\n                >\n                Close <i className=\"far fa-times-circle\"></i>\n            </button>}\n        </div>\n    )\n}\n\nexport default ProductVideo;","import React, { Fragment, useState, useRef } from \"react\";\nimport styled from \"@emotion/styled\";\nimport { Button, FormDiv, Input } from \"./styledElements\";\nimport Modal from \"./Modal\";\nimport ProductVideo from \"./ProductVideo\";\n\nconst ProductDiv = styled.div`\n  position: relative;\n  z-index: 3;\n  display: grid;\n  grid-template-areas:\n    \"pic title\"\n    \"pic price\"\n    \"pic order\"\n    \"update video\"\n    \"availability delete\";\n  @media (max-width: 768px) {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n  grid-template-columns: 2fr 1fr;\n  grid-template-rows: 1fr 1fr 1fr 1fr;\n  margin: 20px auto 20px auto;\n  padding: 40px;\n  border: none;\n  border-radius: 0.5rem;\n\n  width: 50vw;\n  height: 100%;\n  background: white; ;\n`;\n\nconst ImageDiv = styled.div`\n  grid-area: pic;\n  width: 200px;\n  height: 100%;\n  transition: all 0.5s ease-in-out;\n  &:hover {\n    transform: scale(1.2);\n  }\n`;\nconst TitleDiv = styled.div`\n  grid-area: title;\n`;\nconst PriceDiv = styled.div`\n  grid-area: price;\n`;\n\nfunction ProductView({\n  img_url,\n  price,\n  title,\n  id,\n  videoURL,\n  user,\n  deleteProduct,\n  available,\n  updateProductAvailability,\n  mobile,\n  updateProduct,\n}) {\n  const [closeButton, setCloseButton] = useState(false);\n  const [mountVideo, setMountVideo] = useState(false);\n  const [display, setDisplay] = useState(\"\");\n  const [updatedImage, setUpdatedImage] = useState();\n\n  const newPrice = useRef();\n  const newTitle = useRef();\n\n  const showCloseButton = () => {\n    setTimeout(() => setCloseButton(!closeButton), 1500);\n  };\n\n  const toggle = (thing) => {\n    thing = document.querySelector(`.${thing}-${id}`);\n    thing.classList.toggle(\"on\");\n  };\n\n  const handleAvailability = () => {\n    const path = available\n      ? `/products/${id}/unavailable`\n      : `/products/${id}/available`;\n    updateProductAvailability(path);\n  };\n\n  const handleUpdateProduct = (e) => {\n    e.preventDefault();\n\n    const data = new FormData();\n    updatedImage &&\n      data.append(\"productImage\", updatedImage, updatedImage.name);\n    newTitle.current.value !== title &&\n      data.append(\"newName\", newTitle.current.value);\n    newPrice.current.value !== price &&\n      data.append(\"newPrice\", newPrice.current.value);\n    const config = {\n      headers: {\n        \"content-type\": \"multipart/form-data\",\n      },\n    };\n    toggle(\"modal\");\n    setDisplay(\"\");\n    updatedImage\n      ? updateProduct(e, id, data, config)\n      : updateProduct(e, id, data);\n  };\n\n  const isUserAdmin = user.role === \"administrator\";\n\n  const UpdateProductModal = () => {\n    return (\n      <FormDiv style={{ top: \"0\" }}>\n        <form\n          className=\"update-product-form\"\n          onSubmit={handleUpdateProduct}\n          encType=\"multipart/form-data\"\n        >\n          <Input\n            type=\"text\"\n            id=\"product-title\"\n            name=\"product-title\"\n            ref={newTitle}\n            defaultValue={title}\n          />\n          <Input\n            type=\"number\"\n            id=\"product-price\"\n            name=\"product-price\"\n            ref={newPrice}\n            defaultValue={price}\n          />\n          <Input\n            onChange={(e) => setUpdatedImage(e.target.files[0])}\n            type=\"file\"\n            name=\"productImage\"\n            id=\"productImage\"\n          />\n          <Button style={{ width: \"160px\" }} type=\"submit\">\n            {\" \"}\n            Confirm Update\n          </Button>\n        </form>\n      </FormDiv>\n    );\n  };\n\n  return (\n    <Fragment>\n      <Modal\n        productId={id}\n        toggle={toggle}\n        display={display}\n        deleteProduct={deleteProduct}\n        UpdateProductModal={UpdateProductModal}\n      />\n      {mountVideo && (\n        <ProductVideo\n          videoURL={videoURL}\n          toggle={toggle}\n          productId={id}\n          showCloseButton={showCloseButton}\n          closeButton={closeButton}\n          mountVideo={mountVideo}\n          setMountVideo={setMountVideo}\n          mobile={mobile}\n        />\n      )}\n      <ProductDiv>\n        <ImageDiv>\n          {img_url && (\n            <img\n              src={img_url}\n              alt={title}\n              className=\"product-img\"\n              loading=\"lazy\"\n            />\n          )}\n        </ImageDiv>\n        <TitleDiv>\n          <p>\n            <strong>{title}</strong>\n          </p>\n        </TitleDiv>\n        <PriceDiv>\n          <strong>Price: ${new Intl.NumberFormat().format(price)}</strong>\n        </PriceDiv>\n        <Button\n          className={\n            available ? \"add-to-order-btn\" : \"add-to-order-btn out-of-stock\"\n          }\n          style={{ gridArea: \"order\", width: mobile ? \"130px\" : \"100px\" }}\n          onClick={() => {\n            toggle(\"modal\");\n            setDisplay(\"order\");\n          }}\n          disabled={!available}\n        >\n          {available ? \"Add to order\" : \"Out of Stock\"}\n        </Button>\n        <Button\n          style={{ gridArea: \"video\" }}\n          onClick={() => {\n            showCloseButton();\n            setMountVideo(!mountVideo);\n          }}\n        >\n          Video <i className=\"fab fa-youtube\"></i>\n        </Button>\n        {isUserAdmin && (\n          <Button\n            style={{\n              gridArea: \"update\",\n              width: \"150px\",\n              marginLeft: mobile ? \"0\" : \"2rem\",\n            }}\n            onClick={() => {\n              toggle(\"modal\");\n              setDisplay(\"update\");\n            }}\n          >\n            Update Product\n          </Button>\n        )}\n        {isUserAdmin && (\n          <Button\n            style={{ gridArea: \"delete\" }}\n            onClick={() => {\n              toggle(\"modal\");\n              setDisplay(\"delete\");\n            }}\n          >\n            Delete\n          </Button>\n        )}\n        {isUserAdmin && (\n          <Button\n            style={{\n              gridArea: \"availability\",\n              width: \"150px\",\n              marginLeft: mobile ? \"0\" : \"2rem\",\n            }}\n            onClick={() => handleAvailability()}\n          >\n            Update Availability\n          </Button>\n        )}\n      </ProductDiv>\n    </Fragment>\n  );\n}\n\nexport default ProductView;\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport { Input } from './styledElements';\n\nfunction SearchBar({search, updateSearch}) {\n    const SearchDiv = styled.div`\n        width: 75vw;\n        height: 2rem;\n        top: 150px;\n        margin-right: auto;\n        margin-left: auto;\n        margin-top: 20px;\n        margin-bottom: 20px;\n    `;\n\n    return (\n        <SearchDiv key={'searching'}>\n            <Input style={{width: '100%', border: 'solid 3px #212a31', borderRadius:'0.4rem'}} \n            type=\"text\" \n            name=\"search\" \n            id='searchText' \n            placeholder='Search'\n            value={search}\n            onChange={(e) => updateSearch(e.target.value)}\n            autoFocus={true}\n            />\n            <i style={{float: 'right', position: 'relative', top: '-43px'}} className=\"fas fa-search\"></i>\n        </SearchDiv>\n    )\n}\n\nexport default SearchBar;","import React, { useState } from \"react\";\nimport styled from \"@emotion/styled\";\nimport ProductView from \"./ProductView\";\nimport SearchBar from \"./SearchBar\";\nimport { IMAGES_URL } from \"../constants\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  top: 120px;\n  overflow: hidden;\n  width: 100vw;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nfunction Catalogue({\n  products,\n  user,\n  deleteProduct,\n  updateProductAvailability,\n  mobile,\n  updateProduct,\n}) {\n  const [search, setSearch] = useState(\"\");\n\n  const updateSearch = (term) => {\n    setSearch(term);\n  };\n\n  return (\n    <Wrapper>\n      <SearchBar updateSearch={updateSearch} search={search} />\n      {search === \"\" &&\n        products.map((product, i) => (\n          <ProductView\n            price={product.price}\n            title={product.name}\n            img_url={\n              product.productImage && `${IMAGES_URL}/${product.productImage}`\n            }\n            id={product.id}\n            videoURL={product.videoURL}\n            available={product.available}\n            updateProductAvailability={updateProductAvailability}\n            updateProduct={updateProduct}\n            user={user}\n            deleteProduct={deleteProduct}\n            mobile={mobile}\n            key={i}\n          />\n        ))}\n      {search !== \"\" &&\n        products.map(\n          (product, i) =>\n            product.name.toLowerCase().includes(search.toLowerCase()) && (\n              <ProductView\n                price={product.price}\n                title={product.name}\n                img_url={\n                  product.productImage &&\n                  `${IMAGES_URL}/${product.productImage}`\n                }\n                id={product.id}\n                videoURL={product.videoURL}\n                user={user}\n                key={i}\n              />\n            )\n        )}\n    </Wrapper>\n  );\n}\n\nexport default Catalogue;\n","export default __webpack_public_path__ + \"static/media/apple_shop_wave.a2b3e177.svg\";","import React, { Fragment, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"@emotion/styled\";\nimport wave from \"../assets/apple_shop_wave.svg\";\n\nconst Nav = styled.nav`\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  width: 100%;\n  background-color: #333d51;\n  height: 67px;\n  padding: 10px;\n  z-index: 999;\n`;\n\nconst NavButton = styled.button`\n  width: ${(props) => (props.mobileSite ? \"100%\" : \"120px\")};\n  height: ${(props) => (props.mobileSite ? \"2rem\" : \"60px\")};\n  background-color: #333d51;\n  color: #f4f3ea;\n  font-family: \"Roboto Condensed\", sans-serif;\n  font-size: ${(props) => (props.mobileSite ? \"24px\" : \"16px\")};\n  outline: none;\n  cursor: pointer;\n  border: none;\n  border-radius: 0.3rem;\n  transition: all 0.5s;\n  &:hover {\n    color: #d3ac2b;\n    transform: scale(1.1);\n  }\n\n  margin-right: ${(props) => (props.mobileSite ? \"0\" : \"40px\")};\n  margin-top: ${(props) => (props.mobileSite ? \"45px\" : \"10px\")};\n  text-align: center;\n`;\n\nconst NavButtonsDiv = styled.div`\n  position: relative;\n  float: right;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  width: 75vw;\n  height: 100px;\n  box-sizing: border-box;\n`;\n\nconst MobileNavButtonsDiv = styled.div`\n  position: absolute;\n  left: 0;\n  padding-left: 40px;\n  padding-top: 10px;\n  top: 80px;\n  display: flex;\n  align-items: flex-start;\n  flex-direction: column;\n  z-index: 100;\n  width: 105vw;\n  background: url(\"${wave}\");\n  height: 90vh;\n`;\n\nfunction NavBar({ logout, getOrders, getAdminOrders, user, mobile }) {\n  const logoStyle = {\n    float: \"left\",\n    marginLeft: \"20px\",\n    marginTop: \"0px\",\n    color: \"#F4F3EA\",\n    fontSize: \"24px\",\n  };\n\n  const greetingStyle = {\n    color: \"#F4F3EA\",\n    fontSize: \"14px\",\n    textShadow: \"none\",\n    marginTop: \"10px\",\n    zIndex: \"101\",\n  };\n\n  const [showNav, setShowNav] = useState(false);\n  const [translucent, setTranslucent] = useState(false);\n\n  const isUserAdmin = user.role === \"administrator\";\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", () => {\n      window.scrollY > 0 ? setTranslucent(true) : setTranslucent(false);\n    });\n  }, []);\n\n  return (\n    <Nav style={{ opacity: translucent ? \"0.8\" : \"1\" }}>\n      {!mobile && (\n        <Link to=\"/apple_shop/home\">\n          <div className=\"title\" style={logoStyle}>\n            {\" \"}\n            <i className=\"fab fa-apple\"></i> Shop\n            <div className=\"greeting\" style={greetingStyle}>\n              Welcome back, <em>{user.username}</em>\n            </div>\n          </div>\n        </Link>\n      )}\n      {!mobile && (\n        <Fragment>\n          <NavButtonsDiv>\n            <Link to=\"/apple_shop/orders\">\n              <NavButton\n                onClick={() => {\n                  isUserAdmin ? getAdminOrders() : getOrders();\n                }}\n              >\n                {isUserAdmin ? \"Orders\" : \"My Orders\"}\n              </NavButton>\n            </Link>\n            {isUserAdmin && (\n              <Link to=\"/apple_shop/create-product\">\n                <NavButton>Create a Product</NavButton>\n              </Link>\n            )}\n            <Link to=\"/apple_shop/products\">\n              <NavButton>Products</NavButton>\n            </Link>\n            <Link to=\"/apple_shop/password\">\n              <NavButton>Manage Passwords</NavButton>\n            </Link>\n            <NavButton onClick={logout}>Logout</NavButton>\n          </NavButtonsDiv>\n        </Fragment>\n      )}\n      {mobile && (\n        <NavButton\n          onClick={() => setShowNav(!showNav)}\n          style={{ float: \"left\" }}\n        >\n          {showNav ? (\n            <i className=\"fas fa-times fa-2x\"></i>\n          ) : (\n            <i className=\"fas fa-bars fa-2x\"></i>\n          )}\n        </NavButton>\n      )}\n      {showNav && (\n        <MobileNavButtonsDiv onClick={() => mobile && setShowNav(!showNav)}>\n          <Link to=\"/apple_shop/home\">\n            <NavButton mobileSite={true}>Home</NavButton>\n          </Link>\n          <Link to=\"/apple_shop/orders\">\n            <NavButton\n              mobileSite={true}\n              onClick={isUserAdmin ? getAdminOrders : getOrders}\n            >\n              {isUserAdmin ? \"Orders\" : \"My Orders\"}\n            </NavButton>\n          </Link>\n          {isUserAdmin && (\n            <Link to=\"/apple_shop/create-product\">\n              <NavButton mobileSite={true}>Create a Product</NavButton>\n            </Link>\n          )}\n          <Link to=\"/apple_shop/products\">\n            <NavButton mobileSite={true}>Products</NavButton>\n          </Link>\n          <Link to=\"/apple_shop/password\">\n            <NavButton mobileSite={true}>Manage Passwords</NavButton>\n          </Link>\n          <div\n            className=\"logout\"\n            style={{\n              width: \"80vw\",\n              left: \"0\",\n              position: \"relative\",\n              border: \"none\",\n              display: \"flex\",\n              alignItems: \"flex-start\",\n              marginTop: \"10vh\",\n            }}\n          >\n            <Link to=\"/\">\n              <NavButton\n                style={{ background: \"none\", color: \"#333d51\" }}\n                mobileSite={true}\n                onClick={logout}\n              >\n                Logout\n              </NavButton>\n            </Link>\n          </div>\n        </MobileNavButtonsDiv>\n      )}\n    </Nav>\n  );\n}\n\nexport default NavBar;\n","import React, { Fragment } from 'react';\nimport styled from '@emotion/styled';\n\nfunction OrderView ({title, img_url, price, total, quantity, date, mobile, user}) {\n    const OrderDiv = styled.div`\n        position: relative;\n        z-index: 3;\n        display: grid;\n        grid-template-areas:\n            'user title'\n            'pic price'\n            'pic quantity'\n            'pic total'\n            'pic date';\n        @media (max-width: 768px){\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            \n        }\n        grid-template-columns: 2fr 1fr;\n        grid-template-rows: 1fr 1fr 1fr 1fr 1fr;\n        margin: 20px auto 20px auto;\n        padding: 40px;\n        border: none;\n        border-radius: 0.5rem;\n        width: 40vw;\n        height: 100%;\n        background: white;\n    `;\n\n    const ImageDiv = styled.div`\n        grid-area: pic;\n        width: 200px;\n        height: 100%;\n    `;\n    const TitleDiv = styled.div`\n        grid-area: title;\n    `;\n    const PriceDiv = styled.div`\n        grid-area: price;\n    `;\n\n    const QuantityDiv = styled.div`\n        grid-area: quantity;\n    `;\n\n    const TotalDiv = styled.div`\n        border-top: solid 2px #212a31;\n        grid-area: total;\n    `;\n\n    const DateDiv = styled.div`\n        grid-area: date;\n        display: flex;\n        justify-content: center;\n        text-align: ${mobile ? `center` : `left`};\n    `;\n    return (\n            <OrderDiv>\n                {user && <p className=\"username\" style={{gridArea: 'user'}}><strong>Username: </strong><em>{user}</em></p>}\n                <ImageDiv>\n                    <img src={img_url} alt={title} loading='lazy' className=\"product-img\"/>\n                </ImageDiv>\n                <TitleDiv>\n                    <strong>{title}</strong>\n                </TitleDiv>\n                <QuantityDiv>\n                    <strong>Quantity: {quantity}</strong>\n                </QuantityDiv>\n                <PriceDiv>\n                    <strong>Unit Price: {price}</strong>\n                </PriceDiv>\n                <TotalDiv>\n                    <strong>TOTAL: {total}</strong>\n                </TotalDiv>\n                <DateDiv><strong>Date Order Placed: {date?.toString()}</strong></DateDiv>\n            </OrderDiv>\n    )\n}\n\nexport default OrderView;","import React from 'react';\nimport styled from '@emotion/styled';\nimport OrderView from './OrderView';\nimport {IMAGES_URL} from '../constants';\n\nfunction Orders({orders, mobile}) {\n\n    const Wrapper = styled.div`\n        display: flex;\n        flex-direction: column;\n        position: relative;\n        top: 150px;\n        width: 100vw;\n        margin-left: auto;\n        margin-right: auto;\n    `;\n\n    return (\n        <Wrapper>\n            {!orders.length && <h2 style={{marginLeft: 'auto', marginRight: 'auto'}}>No orders placed yet!</h2>}\n            {orders?.map((order, i) => (\n                <OrderView \n                title={order.product}\n                img_url={`${IMAGES_URL}/${order.productImage}`}\n                price={order.unitPrice}\n                total={order.Total}\n                quantity={order.quantity}\n                user={order.user && order.user}\n                date={order.dateCreated}\n                mobile={mobile}\n                key={i}\n                />\n            ))}\n        </Wrapper>\n    )\n}\n\nexport default Orders;","export default __webpack_public_path__ + \"static/media/apple-products.7abda74a.jpeg\";","import React from 'react';\nimport styled from '@emotion/styled';\nimport {Button} from './styledElements';\nimport { Link } from 'react-router-dom';\nimport homeBackground from '../assets/apple-products.jpeg';\n\nfunction Home () {\n\n    const StyledWrapper = styled.div`\n        width: 50vw;\n        background-color: white;\n        border: none;\n        border-radius: 0.5rem;\n        height: auto;\n        display: flex;\n        flex-direction: column;\n        text-align: center;\n        color: #212a31;\n        margin-left: auto;\n        margin-right: auto;\n        padding: 40px;\n    `;\n\n    const StyledContainer = styled.div`\n        position: absolute;\n        top: 68px;\n        height: 100vh;\n        width: 100vw;\n        left: 0;\n        display: flex;\n        background-image: url('${homeBackground}');\n        background-position: center;\n        justify-content: center;\n        align-items: center;\n    `;\n\n    return (\n        <StyledContainer>\n            <StyledWrapper>\n                <h1 className=\"welcome\">Welcome to the Apple Shop <i className=\"fab fa-apple\"></i>!</h1>\n                <h3 className=\"landing\">Your one stop shopping experience for all things Apple. We pride ourselves in being a premier supplier of Apple products.</h3>\n                <Link to='/apple_shop/products'><Button>Browse</Button></Link>\n            </StyledWrapper>\n        </StyledContainer>\n    )\n}\n\nexport default Home;","import React, { useRef, useState } from \"react\";\nimport { FormDiv, Button, Input } from \"./styledElements\";\n\nfunction CreateProduct({ addProduct }) {\n  const [image, setImage] = useState();\n\n  const nameRef = useRef();\n  const priceRef = useRef();\n  const videoRef = useRef();\n\n  const handleCreateProduct = (e) => {\n    e.preventDefault();\n\n    const data = new FormData();\n    data.append(\"productImage\", image, image.name);\n    data.append(\"name\", nameRef.current.value);\n    data.append(\"price\", priceRef.current.value);\n    data.append(\"videoURL\", videoRef.current.value);\n    const config = {\n      headers: {\n        \"content-type\": \"multipart/form-data\",\n      },\n    };\n    addProduct(e, data, config);\n  };\n\n  return (\n    <FormDiv>\n      <form\n        className=\"create-product-form\"\n        encType=\"multipart/form-data\"\n        onSubmit={handleCreateProduct}\n      >\n        <Input\n          ref={nameRef}\n          type=\"text\"\n          name=\"productName\"\n          id=\"productName\"\n          placeholder=\"Enter a product name\"\n          required\n        />\n        <Input\n          ref={priceRef}\n          type=\"number\"\n          name=\"price\"\n          id=\"price\"\n          placeholder=\"Set a product price\"\n          required\n        />\n        <Input\n          onChange={(e) => setImage(e.target.files[0])}\n          type=\"file\"\n          name=\"productImage\"\n          id=\"productImage\"\n          placeholder=\"Upload a product image\"\n          required\n        />\n        <Input\n          ref={videoRef}\n          type=\"text\"\n          name=\"videoURL\"\n          id=\"videoURL\"\n          placeholder=\"Paste a video URL for the product ad\"\n          required\n        />\n        <Button style={{ width: \"260px\" }} type=\"submit\">\n          Create Product\n        </Button>\n      </form>\n    </FormDiv>\n  );\n}\n\nexport default CreateProduct;\n","import React, { useRef, useState } from \"react\";\nimport {\n  FormDiv,\n  Button,\n  Input,\n  PasswordChecks,\n  Check,\n} from \"./styledElements\";\nimport { toastConfig } from \"./styledElements\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { CheckSquare, XCircle } from \"react-feather\";\n\nfunction PasswordUpdate({ user, updatePassword }) {\n  const [currentPassword, setCurrentPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n\n  const passwordsMatch = newPassword === confirmPassword;\n\n  const handlePasswordUpdate = (e) => {\n    e.preventDefault();\n    if (!passwordsMatch) {\n      return toast.error(\"Passwords do not match\", toastConfig);\n    }\n    const params = {\n      password: user.password,\n      newPassword,\n      currentPassword,\n    };\n    updatePassword(e, params);\n  };\n\n  const characterCountRegex = /.{8,}/;\n  const uppercaseRegex = /(?=.*?[A-Z])/;\n  const specialCharacterRegex = /(?=.*?[#?!@$%^&*-])/;\n  const digitRegex = /(?=.*?[0-9])/;\n\n  const passwordRegex = /^(?=.*?[A-Z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/;\n\n  return (\n    <FormDiv style={{ width: \"340px\" }}>\n      <ToastContainer />\n      <form onSubmit={handlePasswordUpdate} className=\"password-update\">\n        <Input\n          value={currentPassword}\n          type=\"password\"\n          name=\"currentPassword\"\n          id=\"currentPassword\"\n          placeholder=\"Enter current password\"\n          onChange={(e) => setCurrentPassword(e.target.value)}\n          required\n        />\n        <Input\n          value={newPassword}\n          type=\"password\"\n          name=\"newPassword\"\n          id=\"newPassword\"\n          placeholder=\"Enter new password\"\n          onChange={(e) => setNewPassword(e.target.value)}\n          required\n        />\n        {newPassword && (\n          <PasswordChecks>\n            <Check>\n              {characterCountRegex.test(newPassword) ? (\n                <CheckSquare\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                />\n              ) : (\n                <XCircle\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                />\n              )}\n              <span style={{ fontSize: \"14px\" }}>\n                Password must contain atleast 8 characters\n              </span>\n            </Check>\n            <Check>\n              {uppercaseRegex.test(newPassword) ? (\n                <CheckSquare\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                />\n              ) : (\n                <XCircle\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                />\n              )}\n              <span style={{ fontSize: \"14px\" }}>\n                Password must contain atleast one uppercase\n              </span>\n            </Check>\n            <Check>\n              {digitRegex.test(newPassword) ? (\n                <CheckSquare\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                />\n              ) : (\n                <XCircle\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                />\n              )}\n              <span style={{ fontSize: \"14px\" }}>\n                Password must contain atleast one digit\n              </span>\n            </Check>\n            <Check>\n              {specialCharacterRegex.test(newPassword) ? (\n                <CheckSquare\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                />\n              ) : (\n                <XCircle\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                />\n              )}\n              <span style={{ fontSize: \"14px\" }}>\n                Password must contain atleast one special character\n              </span>\n            </Check>\n          </PasswordChecks>\n        )}\n        <Input\n          value={confirmPassword}\n          type=\"password\"\n          name=\"confirmPassword\"\n          id=\"confirmPassword\"\n          placeholder=\"Reenter new password\"\n          onChange={(e) => setConfirmPassword(e.target.value)}\n          required\n        />\n        {confirmPassword && (\n          <PasswordChecks style={{ height: \"auto\" }}>\n            <Check>\n              {passwordsMatch ? (\n                <CheckSquare\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                />\n              ) : (\n                <XCircle\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                />\n              )}\n              <span style={{ fontSize: \"14px\" }}>\n                {passwordsMatch ? \"Passwords match\" : \"Passwords do not match\"}\n              </span>\n            </Check>\n          </PasswordChecks>\n        )}\n        <Button\n          disabled={!passwordsMatch || !passwordRegex.test(newPassword)}\n          type=\"submit\"\n          style={{ width: \"180px\" }}\n        >\n          Update Password\n        </Button>\n      </form>\n    </FormDiv>\n  );\n}\n\nexport default PasswordUpdate;\n","import { useState, useEffect } from 'react';\n\nfunction usePersistedState(key, defaultValue) {\n    const [state, setState] = useState(\n      () => JSON.parse(sessionStorage.getItem(key)) || defaultValue\n    );\n    useEffect(() => {\n      sessionStorage.setItem(key, JSON.stringify(state));\n    }, [key, state]);\n    return [state, setState];\n  }\n\n  export { usePersistedState };","import React, { Fragment, useEffect } from \"react\";\nimport { Route, Switch, useHistory } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport LoadingBar from \"react-top-loading-bar\";\nimport { setBearerToken, shopApiInstance } from \"../network\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport Catalogue from \"./Catalogue\";\nimport NavBar from \"./NavBar\";\nimport Orders from \"./Orders\";\nimport Home from \"./Home\";\nimport CreateProduct from \"./CreateProduct\";\nimport PasswordUpdate from \"./PasswordUpdate\";\nimport { usePersistedState } from \"../utils\";\nimport { toastConfig } from \"./styledElements\";\n\nfunction App() {\n  const [products, setProducts] = usePersistedState(\"products\", []);\n  //const [ token, setToken ] = usePersistedState('token', '');\n  const [user, setUser] = usePersistedState(\"user\", {});\n  const [authenticated, setAuthenticated] = usePersistedState(\n    \"authenticated\",\n    false\n  );\n  const [orders, setOrders] = usePersistedState(\"orders\", []);\n  const [mobile, setMobile] = usePersistedState(\"mobile\", false);\n  const [progress, setProgress] = usePersistedState(\"progress\", 0);\n\n  let history = useHistory();\n\n  useEffect(() => {\n    window.addEventListener(\"load\", () => {\n      setBearerToken(localStorage.getItem(\"token\") || \"\");\n    });\n    window.addEventListener(\"resize\", () =>\n      window.innerWidth < 768 ? setMobile(true) : setMobile(false)\n    );\n    //window.addEventListener('unload', () => logout());\n  });\n\n  useEffect(() => {\n    window.innerWidth < 768 ? setMobile(true) : setMobile(false);\n  }, [setMobile]);\n\n  const getAdminOrders = () => {\n    shopApiInstance\n      .get(\"/orders/admin\")\n      .then((response) => {\n        response.data.orders\n          ? setOrders(response.data.orders.reverse())\n          : setOrders([]);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const getOrders = () => {\n    shopApiInstance\n      .get(\"/orders\")\n      .then((response) => {\n        response.data.orders\n          ? setOrders(response.data.orders.reverse())\n          : setOrders([]);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const getProducts = () => {\n    shopApiInstance\n      .get(\"/products\")\n      .then((response) => {\n        setProducts(response.data.products.reverse());\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const getUser = (token) => {\n    const user = jwt_decode(token);\n    const { username, email, role, password, userId } = user;\n    setUser({ username, email, role, password, userId });\n  };\n\n  const handleLogin = (e, params) => {\n    setProgress(40);\n    e.preventDefault();\n    //console.log(window.env.EXPOSED_API_URL)\n    shopApiInstance\n      .post(\"/users/signin\", params)\n      .then(async (response) => {\n        e.target.reset();\n        setProgress(100);\n        //await setToken(response.data.token);\n        await localStorage.setItem(\"token\", response.data.token);\n        await setBearerToken(response.data.token);\n        await setAuthenticated(true);\n        await getUser(response.data.token);\n        getProducts();\n        user.role === \"administrator\" ? getAdminOrders() : getOrders();\n        toast.success(\"Successfully logged in!\", toastConfig);\n        history.push(\"/apple_shop/home\");\n      })\n      .catch((err) => {\n        setProgress(100);\n        console.log(err);\n        const error = () => {\n          if (err.message.includes(\"401\"))\n            return \"Email/Password combination incorrect. Try again.\";\n          if (err.message.includes(\"404\")) return \"User not found.\";\n        };\n        toast.error(error, toastConfig);\n      });\n  };\n\n  const handleRegister = (e, params) => {\n    setProgress(40);\n    e.preventDefault();\n    shopApiInstance\n      .post(\"/users/signup\", params)\n      .then((response) => {\n        setProgress(100);\n        console.log(response.data);\n        toast.success(\"Account successfully created. Login here.\", toastConfig);\n        history.push(\"/apple_shop\");\n      })\n      .catch((err) => {\n        setProgress(100);\n        toast.error(err.message, toastConfig);\n      });\n  };\n\n  const addProduct = (e, params) => {\n    shopApiInstance\n      .post(\"/products\", params)\n      .then((response) => {\n        console.log(response.data);\n        toast.success(\"Product successfully created\", toastConfig);\n        getProducts();\n        history.push(\"/apple_shop/products\");\n      })\n      .catch((err) => {\n        toast.error(err.message, toastConfig);\n      });\n    e.target.reset();\n  };\n\n  const updateProduct = (e, id, params) => {\n    shopApiInstance\n      .put(`/products/${id}`, params)\n      .then((response) => {\n        console.log(response.data);\n        toast.success(\"Product successfully updated\", toastConfig);\n        getProducts();\n        history.push(\"/apple_shop/products\");\n      })\n      .catch((err) => {\n        toast.error(err.message, toastConfig);\n      });\n    e.target.reset();\n  };\n\n  const deleteProduct = (id) => {\n    const deleteParams = { productId: id };\n    shopApiInstance\n      .delete(\"/orders/delete\", { data: deleteParams })\n      .then((result) => console.log(result));\n    shopApiInstance\n      .delete(`/products/${id}`)\n      .then((response) => {\n        console.log(response.data);\n        toast.success(\"Products successfully deleted\", toastConfig);\n        getProducts();\n        history.push(\"/apple_shop/products\");\n      })\n      .catch((err) => {\n        toast.error(err.message, toastConfig);\n      });\n  };\n\n  const updatePassword = (e, params) => {\n    shopApiInstance\n      .put(`/users/${user.userId}`, params)\n      .then((response) => {\n        console.log(response.data);\n        toast.success(\"Password updated successfully!\", toastConfig);\n        history.push(\"/apple_shop/home\");\n      })\n      .catch((err) => {\n        const error = err.message.includes(\"401\")\n          ? \"Incorrect password. Try again.\"\n          : err.message;\n        toast.error(error, toastConfig);\n      });\n    e.target.reset();\n  };\n\n  const updateProductAvailability = (path) => {\n    console.log(path);\n    shopApiInstance\n      .put(path)\n      .then((response) => {\n        console.log(response.data);\n        getProducts();\n        toast.success(\"Order updated successfully\", toastConfig);\n      })\n      .catch((err) => {\n        console.log(err);\n        toast.error(err.message, toastConfig);\n      });\n  };\n\n  const logout = () => {\n    //setToken('');\n    setBearerToken(\"\");\n    setAuthenticated(false);\n    setProducts([]);\n    sessionStorage.clear();\n    toast.dark(\"Logged out.\", toastConfig);\n    history.push(\"/apple_shop\");\n  };\n\n  return (\n    <Fragment>\n      <LoadingBar\n        color=\"blue\"\n        progress={progress}\n        onLoaderFinished={() => setProgress(0)}\n      />\n      <ToastContainer />\n      {authenticated && (\n        <NavBar\n          logout={logout}\n          getOrders={getOrders}\n          getAdminOrders={getAdminOrders}\n          user={user}\n          mobile={mobile}\n        />\n      )}\n      <Switch>\n        <Route\n          exact\n          path=\"/apple_shop\"\n          render={(props) => <Login {...props} handleLogin={handleLogin} />}\n        />\n        <Route path=\"/apple_shop/home\" component={Home} />\n        <Route\n          path=\"/apple_shop/register\"\n          render={(props) => (\n            <Register {...props} handleRegister={handleRegister} />\n          )}\n        />\n        <Route\n          path=\"/apple_shop/products\"\n          render={(props) => (\n            <Catalogue\n              {...props}\n              products={products}\n              user={user}\n              deleteProduct={deleteProduct}\n              updateProductAvailability={updateProductAvailability}\n              updateProduct={updateProduct}\n              mobile={mobile}\n            />\n          )}\n        />\n        <Route\n          path=\"/apple_shop/orders\"\n          render={(props) => (\n            <Orders {...props} orders={orders} mobile={mobile} />\n          )}\n        />\n        <Route\n          path=\"/apple_shop/create-product\"\n          render={(props) => (\n            <CreateProduct {...props} addProduct={addProduct} />\n          )}\n        />\n        <Route\n          path=\"/apple_shop/password\"\n          render={(props) => (\n            <PasswordUpdate\n              {...props}\n              user={user}\n              updatePassword={updatePassword}\n            />\n          )}\n        />\n      </Switch>\n    </Fragment>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './components/App';\nimport './index.css';\n\nReactDOM.render(\n    <BrowserRouter>\n        < App/>\n    </BrowserRouter>, \n    document.querySelector('#root'));"],"sourceRoot":""}