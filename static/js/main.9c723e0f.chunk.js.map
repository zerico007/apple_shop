{"version":3,"sources":["constants.js","utils.js","redux/index.js","redux/resources/user.js","redux/resources/products.js","redux/resources/orders.js","redux/resources/cart.js","redux/store.js","network.js","components/styledElements.js","components/Login.js","components/Register.js","components/Modal.js","components/ProductVideo.js","components/ProductView.js","components/SearchBar.js","components/Catalogue.js","assets/apple_shop_wave.svg","components/NavBar.js","components/OrderItem.js","components/OrderView.js","components/Orders.js","assets/apple-products.jpeg","components/Home.js","components/CartItem.js","components/Cart.js","components/CreateProduct.js","components/PasswordUpdate.js","components/App.js","index.js"],"names":["IMAGES_URL","usePersistedState","key","defaultValue","useState","JSON","parse","sessionStorage","getItem","state","setState","useEffect","setItem","stringify","existingStore","store","initialState","user","userId","username","email","password","role","token","isLoggedIn","isLoading","error","userSlice","createSlice","name","reducers","login","loginSuccess","payload","loginFailure","action","logout","resetUsertoken","actions","products","loading","productsSlice","getProductsRequest","getProductsSuccess","reverse","getProductsFailure","orders","ordersSlice","getOrdersRequest","getOrdersSuccess","getOrdersFailure","cart","total","items","cartSlice","getCartRequest","getCartSuccess","message","Total","getCartFailure","rootReducer","configureStore","reducer","subscribe","clear","getState","shopApiInstance","axios","create","baseURL","interceptors","response","use","newAccessToken","currentToken","defaults","headers","common","split","jwt_decode","exp","Date","now","console","log","dispatch","setBearerToken","info","Promise","reject","FormDiv","styled","div","Input","input","Button","button","PasswordChecks","Check","toastConfig","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","Login","handleLogin","RegisterButton","emailRef","useRef","passwordRef","className","style","display","justifyContent","fontSize","textAlign","onSubmit","e","params","current","value","type","id","placeholder","ref","to","LoginButton","Register","handleRegister","setPassword","setEmail","setUsername","confirmPassword","setConfirmPassword","usernameError","setUsernameError","emailError","setEmailError","passwordsMatch","top","width","toast","preventDefault","onChange","target","color","test","size","marginRight","height","disabled","Modal","productId","toggle","deleteProduct","addToCart","UpdateProductModal","quantityRef","quantity","product","reset","onClick","alignSelf","ProductVideo","videoURL","showCloseButton","closeButton","setMountVideo","mountVideo","mobile","left","url","playing","controls","pip","playsinline","stopOnUnmount","ProductDiv","ImageDiv","ProductView","img_url","price","title","available","updateProductAvailability","updateProduct","setCloseButton","setDisplay","updatedImage","setUpdatedImage","newPrice","newTitle","setTimeout","thing","document","querySelector","classList","handleUpdateProduct","data","FormData","append","isUserAdmin","encType","files","flexDirection","alignItems","src","alt","marginLeft","path","handleAvailability","Intl","NumberFormat","format","gridArea","SearchBar","search","updateSearch","SearchDiv","border","borderRadius","boxSizing","autoFocus","float","right","Wrapper","Catalogue","setSearch","term","map","i","productImage","toLowerCase","includes","StyledBadge","withStyles","theme","badge","palette","background","paper","padding","Badge","Nav","nav","NavButton","props","mobileSite","NavButtonsDiv","MobileNavButtonsDiv","wave","NavBar","getOrders","cartCount","showNav","setShowNav","translucent","setTranslucent","showNavOptions","setShowNavOptions","showNavDropDown","handleTranslucentOnScroll","window","scrollY","addEventListener","removeEventListener","ShoppingCart","marginTop","cursor","IconButton","aria-label","badgeContent","opacity","onMouseEnter","onMouseLeave","zIndex","minHeight","margin","fontWeight","OrderItemDiv","OrderItem","image","subtotal","OrderWrapper","OrderView","date","orderId","orderItems","orderHeader","headerText","marginBottom","item","unitPrice","Orders","length","order","OrderTotal","dateCreated","Home","StyledWrapper","StyledContainer","homeBackground","CartItemDiv","AmountSelect","select","CartItem","updateCart","removeFromCart","amount","setAmount","CartWrapper","Cart","count","placeOrder","borderBottom","_id","CreateProduct","addProduct","setImage","nameRef","priceRef","videoRef","required","PasswordUpdate","updatePassword","currentPassword","setCurrentPassword","newPassword","setNewPassword","App","setMobile","progress","setProgress","setCartCount","useDispatch","useSelector","reduce","acc","history","useHistory","innerWidth","getCart","a","get","getProducts","getUser","decodedUser","post","success","push","put","deleteParams","delete","onLoaderFinished","dark","exact","render","component","ReactDOM"],"mappings":"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","file":"static/js/main.9c723e0f.chunk.js","sourcesContent":["export const BASE_URL = \"https://apple-shop-backend.herokuapp.com/api\";\n//export const BASE_URL = \"http://localhost:4000/api\";\n\nexport const IMAGES_URL = \"https://apple-shop-backend.herokuapp.com\";\n// export const IMAGES_URL = \"http://localhost:4000\";\n","import { useState, useEffect } from \"react\";\n\n// function usePersistedState<T>(\n//   key: string,\n//   defaultValue: T\n// ): [T, Dispatch<SetStateAction<T>>] {\n//   const [state, setState] = useState<T>(\n//     () => JSON.parse(sessionStorage.getItem(key)) || defaultValue\n//   );\n//   useEffect(() => {\n//     sessionStorage.setItem(key, JSON.stringify(state));\n//   }, [key, state]);\n//   return [state, setState];\n// }\n\nfunction usePersistedState(key, defaultValue) {\n  const [state, setState] = useState(\n    () => JSON.parse(sessionStorage.getItem(key)) || defaultValue\n  );\n  useEffect(() => {\n    sessionStorage.setItem(key, JSON.stringify(state));\n  }, [key, state]);\n  return [state, setState];\n}\n\nfunction getStoreFromSessionStorage() {\n  if (sessionStorage.store) {\n    return JSON.parse(sessionStorage.store);\n  }\n  return null;\n}\n\nexport { usePersistedState, getStoreFromSessionStorage };\n","import { getStoreFromSessionStorage } from \"../utils\";\n\nconst existingStore = getStoreFromSessionStorage();\n\nexport default existingStore;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport existingStore from \"../index\";\n\nconst initialState = existingStore\n  ? existingStore.user // if user is logged in, get user from session storage\n  : {\n      user: {\n        userId: \"\",\n        username: \"\",\n        email: \"\",\n        password: \"\",\n        role: \"\",\n        token: \"\",\n        isLoggedIn: false,\n        isLoading: false,\n        error: null,\n      },\n    };\n\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState,\n  reducers: {\n    login: (state) => {\n      state.user.isLoading = true;\n      state.user.error = null;\n    },\n    loginSuccess: (state, { payload }) => {\n      state.user.isLoading = false;\n      state.user.isLoggedIn = true;\n      state.user.userId = payload.userId;\n      state.user.username = payload.username;\n      state.user.email = payload.email;\n      state.user.password = payload.password;\n      state.user.role = payload.role;\n      state.user.token = payload.token;\n    },\n    loginFailure: (state, action) => {\n      state.user.isLoading = false;\n      state.user.error = action.payload;\n    },\n    logout: (state) => {\n      state.user.isLoggedIn = false;\n      state.user.userId = \"\";\n      state.user.username = \"\";\n      state.user.email = \"\";\n      state.user.password = \"\";\n      state.user.role = \"\";\n      state.user.token = \"\";\n    },\n    resetUsertoken: (state, { payload }) => {\n      state.user.token = payload;\n    },\n  },\n});\n\nexport const {\n  login,\n  loginSuccess,\n  loginFailure,\n  logout,\n  resetUsertoken,\n} = userSlice.actions;\n\nexport default userSlice.reducer;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport existingStore from \"../index\";\n\nconst initialState = existingStore\n  ? existingStore.products\n  : {\n      products: [],\n      loading: false,\n      error: null,\n    };\n\nconst productsSlice = createSlice({\n  name: \"products\",\n  initialState,\n  reducers: {\n    getProductsRequest: (state) => {\n      state.loading = true;\n      state.error = null;\n    },\n    getProductsSuccess: (state, action) => {\n      state.products = action.payload.reverse();\n      state.loading = false;\n      state.error = null;\n    },\n    getProductsFailure: (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    },\n  },\n});\n\nexport const {\n  getProductsRequest,\n  getProductsSuccess,\n  getProductsFailure,\n} = productsSlice.actions;\n\nexport default productsSlice.reducer;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport existingStore from \"../index\";\n\nconst initialState = existingStore\n  ? existingStore.orders\n  : {\n      orders: [],\n      loading: false,\n      error: null,\n    };\n\nconst ordersSlice = createSlice({\n  name: \"orders\",\n  initialState,\n  reducers: {\n    getOrdersRequest: (state) => {\n      state.loading = true;\n      state.error = null;\n    },\n    getOrdersSuccess: (state, action) => {\n      state.orders = action.payload;\n      state.loading = false;\n      state.error = null;\n    },\n    getOrdersFailure: (state, action) => {\n      state.error = action.payload;\n      state.loading = false;\n    },\n  },\n});\n\nexport const {\n  getOrdersRequest,\n  getOrdersSuccess,\n  getOrdersFailure,\n} = ordersSlice.actions;\n\nexport default ordersSlice.reducer;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport existingStore from \"../index\";\n\nconst initialState = existingStore\n  ? existingStore.cart\n  : {\n      total: \"\",\n      items: [],\n      user: \"\",\n      loading: false,\n      error: null,\n    };\n\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState,\n  reducers: {\n    getCartRequest: (state) => {\n      state.loading = true;\n      state.error = null;\n    },\n    getCartSuccess: (state, { payload }) => {\n      state.loading = false;\n      if (payload.message) {\n        state.total = \"\";\n        state.items = [];\n        return;\n      }\n      state.total = payload.Total;\n      state.items = payload.items;\n      state.user = payload.user;\n    },\n    getCartFailure: (state, { payload }) => {\n      state.loading = false;\n      state.error = payload;\n    },\n  },\n});\n\nexport const {\n  getCartFailure,\n  getCartRequest,\n  getCartSuccess,\n} = cartSlice.actions;\n\nexport default cartSlice.reducer;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport user from \"./resources/user\";\nimport products from \"./resources/products\";\nimport orders from \"./resources/orders\";\nimport cart from \"./resources/cart\";\n\nconst rootReducer = {\n  user,\n  products,\n  orders,\n  cart,\n};\n\nconst store = configureStore({\n  reducer: rootReducer,\n});\n\nexport default store;\n\nstore.subscribe(() => {\n  sessionStorage.clear();\n  sessionStorage.setItem(\"store\", JSON.stringify(store.getState()));\n});\n","import axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nimport { BASE_URL } from \"./constants\";\nimport store from \"./redux/store\";\nimport { resetUsertoken } from \"./redux/resources/user\";\n\nconst shopApiInstance = axios.create({\n  baseURL: BASE_URL,\n});\n\nshopApiInstance.interceptors.response.use(\n  (response) => {\n    let newAccessToken;\n    const currentToken =\n      shopApiInstance.defaults.headers.common[\"Authorization\"] &&\n      shopApiInstance.defaults.headers.common[\"Authorization\"].split(\" \")[1];\n    if (currentToken) {\n      const currentDecodedToken = jwt_decode(currentToken);\n      const { exp } = currentDecodedToken;\n      if (exp * 1000 < Date.now()) {\n        console.log(\"token expired\");\n        if (response.headers[\"shop-refreshed-access-token\"]) {\n          newAccessToken = response.headers[\"shop-refreshed-access-token\"];\n          store.dispatch(resetUsertoken(newAccessToken));\n          setBearerToken(newAccessToken);\n          console.info(\"access token renewed\");\n        }\n      } else {\n        console.info(\"token still good\");\n      }\n    }\n\n    return response;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\nconst setBearerToken = (token) => {\n  shopApiInstance.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n  console.log(`Set bearer token, ${token}`);\n};\n\nexport { shopApiInstance, setBearerToken };\n","import styled from \"@emotion/styled\";\n\nconst FormDiv = styled.div`\n  top: 150px;\n  margin-left: auto;\n  margin-right: auto;\n  position: relative;\n  background: white;\n  width: 300px;\n  border: none;\n  border-radius: 0.3rem;\n  padding: 20px;\n`;\n\nconst Input = styled.input`\n  height: 1.5em;\n  width: 250px;\n  border-bottom: 2px solid gray;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  padding: 10px;\n  font-family: \"Roboto Condensed\", sans-serif;\n  font-size: 16px;\n  border-top: none;\n  border-left: none;\n  border-right: none;\n`;\n\nconst Button = styled.button`\n  height: 2.5em;\n  font-size: 16px;\n  width: 100px;\n  padding: 5px;\n  margin-top: 10px;\n  margin-bottom: 15px;\n  color: #333d51;\n  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;\n  background-color: #ffcc00;\n  transition: all 0.3s;\n  &:hover {\n    background-color: #e5b700;\n    color: #212a31;\n    transform: scale(1.1);\n  }\n  outline: none;\n  cursor: pointer;\n  &:active {\n    transform: translateY(4px);\n  }\n  border-radius: 0.4rem;\n  font-family: \"Roboto Condensed\", sans-serif;\n  font-weight: 700;\n  border: none;\n`;\n\nconst PasswordChecks = styled.div`\n  width: 320px;\n  height: 170px;\n  display: flex;\n  flex-direction: column;\n  row-gap: 0.7rem;\n  padding: 10px;\n  margin-top: 5px;\n  margin-bottom: 5px;\n  background: linear-gradient(0.25turn, #cbd0d8, #f4f3ea);\n  border: none;\n  border-radius: 4px;\n`;\n\nconst Check = styled.div`\n  height: 1.5rem;\n  width: fit-content;\n  padding: 3px;\n  display: flex;\n  flex-direction: row;\n`;\n\nconst toastConfig = {\n  position: \"top-center\",\n  autoClose: 1500,\n  hideProgressBar: false,\n  closeOnClick: true,\n  pauseOnHover: true,\n};\n\nexport { FormDiv, Button, Input, toastConfig, PasswordChecks, Check };\n","import React, { useRef, Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from '@emotion/styled';\nimport {FormDiv, Button, Input} from './styledElements';\n\n\nfunction Login({handleLogin}) {\n    \n    const RegisterButton = styled.button`\n        border: none;\n        border-bottom: solid 1px #212a31;\n        outline: none;\n        cursor: pointer;\n        font-family: \"Roboto Condensed\", sans-serif;\n        background: none;\n        font-size: 16px;\n        transition: all 0.3s;\n        &:hover {\n            background-color: #212a31;\n            color: white;\n            transform: scale(1.2);\n            border: solid 1px white;\n            border-radius: 0.4rem;\n            margin-left: 10px;\n        }\n    `;\n\n    const emailRef = useRef();\n    const passwordRef = useRef();\n\n    const handleSubmit = e => {\n        const params = {email: emailRef.current.value, password: passwordRef.current.value};\n        handleLogin(e, params);\n    }\n\n    return (\n        <Fragment>\n            <div className=\"header\" style={{display: 'flex', justifyContent: 'center', fontSize: '24px'}}>\n            <h1 style={{textAlign:'center'}}>Welcome to Apple Shop <i className=\"fab fa-apple\"></i></h1>\n            </div>\n            <FormDiv>\n                <form onSubmit={handleSubmit}>\n                <Input type=\"email\" \n                name=\"email\" \n                id=\"email\" \n                placeholder=\"Email address\" \n                ref={emailRef}/>\n                <Input type=\"password\" \n                name=\"password\" \n                id=\"password\" \n                placeholder=\"Password\"\n                ref={passwordRef}/><br></br>\n                <Button type=\"submit\">Login</Button>\n                </form>\n                <footer>New user? <Link to='/apple_shop/register'><RegisterButton>Register here</RegisterButton></Link></footer>\n            </FormDiv>\n        </Fragment>\n    )\n}\n\nexport default Login;","import React, { Fragment, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport {\n  FormDiv,\n  Button,\n  Input,\n  PasswordChecks,\n  Check,\n} from \"./styledElements\";\nimport { toastConfig } from \"./styledElements\";\nimport styled from \"@emotion/styled\";\nimport { CheckSquare, XCircle } from \"react-feather\";\n\nconst LoginButton = styled.button`\n  border: none;\n  border-bottom: solid 1px black;\n  outline: none;\n  cursor: pointer;\n  font-family: \"Roboto Condensed\", sans-serif;\n  background: none;\n  font-size: 16px;\n  transition: all 0.3s;\n  &:hover {\n    background-color: #212a31;\n    color: white;\n    transform: scale(1.2);\n    border: solid 1px white;\n    border-radius: 0.4rem;\n  }\n`;\n\nfunction Register({ handleRegister }) {\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [usernameError, setUsernameError] = useState(false);\n  const [emailError, setEmailError] = useState(false);\n\n  const passwordsMatch = password === confirmPassword;\n\n  const validate = (e, params) => {\n    if (!passwordsMatch) {\n      toast.error(\"Passwords do not match.\", toastConfig);\n      e.preventDefault();\n    }\n\n    if (!email) {\n      setEmailError(true);\n      //toast.error('Please enter an email address.', toastConfig);\n      e.preventDefault();\n    }\n\n    if (!username) {\n      setUsernameError(true);\n      //toast.error('Please enter a username.', toastConfig);\n      e.preventDefault();\n    }\n    if (username && email && passwordsMatch) {\n      params = { email, password, username };\n      handleRegister(e, params);\n    }\n  };\n\n  const characterCountRegex = /.{8,}/;\n  const uppercaseRegex = /(?=.*?[A-Z])/;\n  const specialCharacterRegex = /(?=.*?[#?!@$%^&*-])/;\n  const digitRegex = /(?=.*?[0-9])/;\n\n  const passwordRegex = /^(?=.*?[A-Z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/;\n\n  useEffect(() => {\n    email && setEmailError(false);\n    username && setUsernameError(false);\n  }, [email, username]);\n\n  return (\n    <Fragment>\n      <ToastContainer />\n      <div\n        className=\"header\"\n        style={{ display: \"flex\", justifyContent: \"center\", fontSize: \"24px\" }}\n      >\n        <h1>\n          Welcome to Apple Shop <i className=\"fab fa-apple\"></i>\n        </h1>\n      </div>\n      <FormDiv style={{ top: \"60px\", width: \"340px\" }}>\n        <form onSubmit={validate}>\n          <Input\n            type=\"text\"\n            name=\"username\"\n            id=\"username\"\n            placeholder=\"Username\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n          />\n          <br />\n          {usernameError && (\n            <>\n              <span style={{ fontSize: \"14px\", color: \"red\" }}>\n                Please enter a username\n              </span>\n              <br />\n            </>\n          )}\n          <Input\n            type=\"email\"\n            name=\"email\"\n            id=\"email\"\n            placeholder=\"Email address\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n          <br />\n          {emailError && (\n            <>\n              <span style={{ fontSize: \"14px\", color: \"red\" }}>\n                Please enter an email address\n              </span>\n              <br />\n            </>\n          )}\n          <Input\n            type=\"password\"\n            name=\"password\"\n            id=\"password\"\n            placeholder=\"Password\"\n            onChange={(e) => setPassword(e.target.value)}\n            value={password}\n          />\n          <br />\n          {password && (\n            <PasswordChecks>\n              <Check>\n                {characterCountRegex.test(password) ? (\n                  <CheckSquare\n                    size={20}\n                    style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                  />\n                ) : (\n                  <XCircle\n                    size={20}\n                    style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                  />\n                )}\n                <span style={{ fontSize: \"14px\" }}>\n                  Password must contain atleast 8 characters\n                </span>\n              </Check>\n              <Check>\n                {uppercaseRegex.test(password) ? (\n                  <CheckSquare\n                    size={20}\n                    style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                  />\n                ) : (\n                  <XCircle\n                    size={20}\n                    style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                  />\n                )}\n                <span style={{ fontSize: \"14px\" }}>\n                  Password must contain atleast one uppercase\n                </span>\n              </Check>\n              <Check>\n                {digitRegex.test(password) ? (\n                  <CheckSquare\n                    size={20}\n                    style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                  />\n                ) : (\n                  <XCircle\n                    size={20}\n                    style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                  />\n                )}\n                <span style={{ fontSize: \"14px\" }}>\n                  Password must contain atleast one digit\n                </span>\n              </Check>\n              <Check>\n                {specialCharacterRegex.test(password) ? (\n                  <CheckSquare\n                    size={20}\n                    style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                  />\n                ) : (\n                  <XCircle\n                    size={20}\n                    style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                  />\n                )}\n                <span style={{ fontSize: \"14px\" }}>\n                  Password must contain atleast one special character\n                </span>\n              </Check>\n            </PasswordChecks>\n          )}\n          <Input\n            type=\"password\"\n            name=\"confirm\"\n            id=\"confirm\"\n            placeholder=\"Confirm Password\"\n            value={confirmPassword}\n            onChange={(e) => setConfirmPassword(e.target.value)}\n          />\n          <br />\n          {confirmPassword && (\n            <PasswordChecks style={{ height: \"auto\" }}>\n              <Check>\n                {passwordsMatch ? (\n                  <CheckSquare\n                    size={20}\n                    style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                  />\n                ) : (\n                  <XCircle\n                    size={20}\n                    style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                  />\n                )}\n                <span style={{ fontSize: \"14px\" }}>\n                  {passwordsMatch\n                    ? \"Passwords match\"\n                    : \"Passwords do not match\"}\n                </span>\n              </Check>\n            </PasswordChecks>\n          )}\n          <Button\n            disabled={!passwordsMatch || !passwordRegex.test(password)}\n            type=\"submit\"\n          >\n            Register\n          </Button>\n        </form>\n        <footer>\n          <Link to=\"/apple_shop\">\n            <LoginButton>Log in instead?</LoginButton>\n          </Link>\n        </footer>\n      </FormDiv>\n    </Fragment>\n  );\n}\n\nexport default Register;\n","import React, { useRef, Fragment } from \"react\";\nimport { Button, Input } from \"./styledElements\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { toastConfig } from \"./styledElements\";\n\nfunction Modal({\n  productId,\n  toggle,\n  display,\n  deleteProduct,\n  addToCart,\n  UpdateProductModal,\n}) {\n  const quantityRef = useRef();\n\n  const handleAddToCart = (e) => {\n    e.preventDefault();\n    toggle(\"modal\");\n    const quantity = quantityRef.current.value;\n    if (quantity === \"0\")\n      return toast.error(\"Please enter a quantity\", toastConfig);\n    console.log(productId, quantity);\n    const params = { product: productId, quantity };\n    addToCart(params);\n    e.target.reset();\n  };\n\n  return (\n    <Fragment>\n      <ToastContainer />\n      <div className={`modal modal-${productId}`} style={{ top: \"0px\" }}>\n        <div className=\"modal-content\">\n          {display === \"order\" && (\n            <Fragment>\n              <h3 className=\"order-modal\">How many would you like to add?</h3>\n              <form onSubmit={handleAddToCart}>\n                <Input\n                  type=\"number\"\n                  name=\"quantity\"\n                  defaultValue=\"1\"\n                  ref={quantityRef}\n                  style={{ textAlign: \"center\" }}\n                />\n                <br />\n                <Button type=\"submit\" style={{ width: \"130px\" }}>\n                  Confirm\n                </Button>\n              </form>\n            </Fragment>\n          )}\n          {display === \"delete\" && (\n            <Fragment>\n              <h3 className=\"delete-modal\">\n                Are you sure you want to delete this product?\n              </h3>\n              <Button\n                onClick={() => deleteProduct(productId)}\n                style={{ width: \"120px\", alignSelf: \"center\" }}\n              >\n                Confirm Delete\n              </Button>\n            </Fragment>\n          )}\n          {display === \"update\" && (\n            <Fragment>\n              <UpdateProductModal />\n            </Fragment>\n          )}\n          <Button\n            style={{ alignSelf: \"center\" }}\n            onClick={() => toggle(\"modal\")}\n          >\n            Cancel\n          </Button>\n        </div>\n      </div>\n    </Fragment>\n  );\n}\n\nexport default Modal;\n","import React from 'react';\nimport ReactPlayer from 'react-player';\n\nfunction ProductVideo ({videoURL, productId, showCloseButton, closeButton, setMountVideo, mountVideo, mobile}) {\n\n    return (\n        <div className={`video-div video-${productId}`} style={{top: '0px'}}>\n            <ReactPlayer \n                className=\"video-player\"\n                style={{left: mobile ? '0' : '25vw'}}\n                url={videoURL}\n                playing={mountVideo}\n                controls={false}\n                width={mobile ? '97vw' : '600px'}\n                height={'500px'}\n                pip={true}\n                playsinline={true}\n                stopOnUnmount={true}\n            />\n            { closeButton && <button \n                className=\"close-video\" \n                onClick={() => { showCloseButton(); setMountVideo(!mountVideo)}}\n                >\n                Close <i className=\"far fa-times-circle\"></i>\n            </button>}\n        </div>\n    )\n}\n\nexport default ProductVideo;","import React, { Fragment, useState, useRef } from \"react\";\nimport styled from \"@emotion/styled\";\nimport { Button, FormDiv, Input } from \"./styledElements\";\nimport Modal from \"./Modal\";\nimport ProductVideo from \"./ProductVideo\";\n\nconst ProductDiv = styled.div`\n  position: relative;\n  z-index: 3;\n  display: flex;\n  @media (max-width: 768px) {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    just0fy-content: center;\n  }\n  margin: 20px auto 20px auto;\n  padding: 40px;\n  border: none;\n  border-radius: 0.5rem;\n\n  width: 50vw;\n  height: auto;\n  background: white; ;\n`;\n\nconst ImageDiv = styled.div`\n  width: auto;\n  height: auto;\n  transition: all 0.5s ease-in-out;\n  &:hover {\n    transform: scale(1.2);\n  }\n`;\n\nfunction ProductView({\n  img_url,\n  price,\n  title,\n  id,\n  videoURL,\n  user,\n  deleteProduct,\n  available,\n  updateProductAvailability,\n  mobile,\n  updateProduct,\n  addToCart,\n}) {\n  const [closeButton, setCloseButton] = useState(false);\n  const [mountVideo, setMountVideo] = useState(false);\n  const [display, setDisplay] = useState(\"\");\n  const [updatedImage, setUpdatedImage] = useState();\n\n  const newPrice = useRef();\n  const newTitle = useRef();\n\n  const showCloseButton = () => {\n    setTimeout(() => setCloseButton(!closeButton), 1500);\n  };\n\n  const toggle = (thing) => {\n    thing = document.querySelector(`.${thing}-${id}`);\n    thing.classList.toggle(\"on\");\n  };\n\n  const handleAvailability = () => {\n    const path = available\n      ? `/products/${id}/unavailable`\n      : `/products/${id}/available`;\n    updateProductAvailability(path);\n  };\n\n  const handleUpdateProduct = (e) => {\n    e.preventDefault();\n\n    const data = new FormData();\n    updatedImage &&\n      data.append(\"productImage\", updatedImage, updatedImage.name);\n    newTitle.current.value !== title &&\n      data.append(\"newName\", newTitle.current.value);\n    newPrice.current.value !== price &&\n      data.append(\"newPrice\", newPrice.current.value);\n    const config = {\n      headers: {\n        \"content-type\": \"multipart/form-data\",\n      },\n    };\n    toggle(\"modal\");\n    setDisplay(\"\");\n    updatedImage\n      ? updateProduct(e, id, data, config)\n      : updateProduct(e, id, data);\n  };\n\n  const isUserAdmin = user.role === \"administrator\";\n\n  const UpdateProductModal = () => {\n    return (\n      <FormDiv style={{ top: \"0\" }}>\n        <form\n          className=\"update-product-form\"\n          onSubmit={handleUpdateProduct}\n          encType=\"multipart/form-data\"\n        >\n          <Input\n            type=\"text\"\n            id=\"product-title\"\n            name=\"product-title\"\n            ref={newTitle}\n            defaultValue={title}\n          />\n          <Input\n            type=\"number\"\n            id=\"product-price\"\n            name=\"product-price\"\n            ref={newPrice}\n            defaultValue={price}\n          />\n          <Input\n            onChange={(e) => setUpdatedImage(e.target.files[0])}\n            type=\"file\"\n            name=\"productImage\"\n            id=\"productImage\"\n          />\n          <Button style={{ width: \"160px\" }} type=\"submit\">\n            {\" \"}\n            Confirm Update\n          </Button>\n        </form>\n      </FormDiv>\n    );\n  };\n\n  return (\n    <Fragment>\n      <Modal\n        productId={id}\n        toggle={toggle}\n        display={display}\n        deleteProduct={deleteProduct}\n        UpdateProductModal={UpdateProductModal}\n        addToCart={addToCart}\n      />\n      {mountVideo && (\n        <ProductVideo\n          videoURL={videoURL}\n          toggle={toggle}\n          productId={id}\n          showCloseButton={showCloseButton}\n          closeButton={closeButton}\n          mountVideo={mountVideo}\n          setMountVideo={setMountVideo}\n          mobile={mobile}\n        />\n      )}\n      <ProductDiv>\n        <div\n          className=\"left-side\"\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"space-evenly\",\n            alignItems: mobile ? \"center\" : \"flex-start\",\n            width: \"50%\",\n          }}\n        >\n          <ImageDiv>\n            {img_url && (\n              <img\n                src={img_url}\n                alt={title}\n                className=\"product-img\"\n                loading=\"lazy\"\n              />\n            )}\n          </ImageDiv>\n          {isUserAdmin && (\n            <Button\n              style={{\n                width: \"150px\",\n                marginLeft: mobile ? \"0\" : \"2rem\",\n              }}\n              onClick={() => {\n                toggle(\"modal\");\n                setDisplay(\"update\");\n              }}\n            >\n              Update Product\n            </Button>\n          )}\n          {isUserAdmin && (\n            <Button\n              style={{\n                width: \"150px\",\n                marginLeft: mobile ? \"0\" : \"2rem\",\n              }}\n              onClick={() => handleAvailability()}\n            >\n              Update Availability\n            </Button>\n          )}\n        </div>\n        <div\n          className=\"right-side\"\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            width: \"50%\",\n          }}\n        >\n          <div className=\"product-title\">\n            <p style={{ textAlign: \"center\" }}>\n              <strong>{title}</strong>\n            </p>\n          </div>\n          <div className=\"product-price\">\n            <strong>Price: ${new Intl.NumberFormat().format(price)}</strong>\n          </div>\n          <Button\n            className={\n              available ? \"add-to-order-btn\" : \"add-to-order-btn out-of-stock\"\n            }\n            style={{ width: mobile ? \"130px\" : \"100px\" }}\n            onClick={() => {\n              toggle(\"modal\");\n              setDisplay(\"order\");\n            }}\n            disabled={!available}\n          >\n            {available ? \"Add to cart\" : \"Out of Stock\"}\n          </Button>\n          <Button\n            style={{ gridArea: \"video\" }}\n            onClick={() => {\n              showCloseButton();\n              setMountVideo(!mountVideo);\n            }}\n          >\n            Video <i className=\"fab fa-youtube\"></i>\n          </Button>\n\n          {isUserAdmin && (\n            <Button\n              style={{ gridArea: \"delete\" }}\n              onClick={() => {\n                toggle(\"modal\");\n                setDisplay(\"delete\");\n              }}\n            >\n              Delete\n            </Button>\n          )}\n        </div>\n      </ProductDiv>\n    </Fragment>\n  );\n}\n\nexport default ProductView;\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport { Input } from \"./styledElements\";\n\nfunction SearchBar({ search, updateSearch }) {\n  const SearchDiv = styled.div`\n    width: 75vw;\n    height: 2rem;\n    top: 150px;\n    margin-right: auto;\n    margin-left: auto;\n    margin-top: 20px;\n    margin-bottom: 20px;\n  `;\n\n  return (\n    <SearchDiv key={\"searching\"}>\n      <Input\n        style={{\n          width: \"100%\",\n          height: \"2.5rem\",\n          border: \"solid 3px #212a31\",\n          borderRadius: \"0.4rem\",\n          boxSizing: \"border-box\",\n          display: \"flex\",\n          alignItems: \"center\",\n        }}\n        type=\"text\"\n        name=\"search\"\n        id=\"searchText\"\n        placeholder=\"Search\"\n        value={search}\n        onChange={(e) => updateSearch(e.target.value)}\n        autoFocus={true}\n      />\n      <i\n        style={{\n          float: \"right\",\n          position: \"relative\",\n          top: \"-38px\",\n          right: \"15px\",\n        }}\n        className=\"fas fa-search\"\n      ></i>\n    </SearchDiv>\n  );\n}\n\nexport default SearchBar;\n","import React, { useState } from \"react\";\nimport styled from \"@emotion/styled\";\nimport ProductView from \"./ProductView\";\nimport SearchBar from \"./SearchBar\";\nimport { IMAGES_URL } from \"../constants\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  top: 120px;\n  overflow: hidden;\n  width: 100vw;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nfunction Catalogue({\n  products,\n  user,\n  deleteProduct,\n  updateProductAvailability,\n  mobile,\n  updateProduct,\n  addToCart,\n}) {\n  const [search, setSearch] = useState(\"\");\n\n  const updateSearch = (term) => {\n    setSearch(term);\n  };\n\n  return (\n    <Wrapper>\n      <SearchBar updateSearch={updateSearch} search={search} />\n      {search === \"\" &&\n        products.map((product, i) => (\n          <ProductView\n            price={product.price}\n            title={product.name}\n            img_url={\n              product.productImage && `${IMAGES_URL}/${product.productImage}`\n            }\n            id={product.id}\n            videoURL={product.videoURL}\n            available={product.available}\n            updateProductAvailability={updateProductAvailability}\n            updateProduct={updateProduct}\n            addToCart={addToCart}\n            user={user}\n            deleteProduct={deleteProduct}\n            mobile={mobile}\n            key={i}\n          />\n        ))}\n      {search !== \"\" &&\n        products.map(\n          (product, i) =>\n            product.name.toLowerCase().includes(search.toLowerCase()) && (\n              <ProductView\n                price={product.price}\n                title={product.name}\n                img_url={\n                  product.productImage &&\n                  `${IMAGES_URL}/${product.productImage}`\n                }\n                id={product.id}\n                videoURL={product.videoURL}\n                available={product.available}\n                updateProductAvailability={updateProductAvailability}\n                updateProduct={updateProduct}\n                addToCart={addToCart}\n                user={user}\n                deleteProduct={deleteProduct}\n                mobile={mobile}\n                key={i}\n              />\n            )\n        )}\n    </Wrapper>\n  );\n}\n\nexport default Catalogue;\n","export default __webpack_public_path__ + \"static/media/apple_shop_wave.a2b3e177.svg\";","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"@emotion/styled\";\nimport { ChevronDown } from \"react-feather\";\nimport wave from \"../assets/apple_shop_wave.svg\";\nimport Badge from \"@material-ui/core/Badge\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\n\nconst StyledBadge = withStyles((theme) => ({\n  badge: {\n    right: -3,\n    top: 5,\n    border: `2px solid ${theme.palette.background.paper}`,\n    padding: \"0 4px\",\n  },\n}))(Badge);\n\nconst Nav = styled.nav`\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  width: 100%;\n  background-color: #333d51;\n  height: 67px;\n  padding: 10px;\n  z-index: 8;\n`;\n\nconst NavButton = styled.button`\n  width: ${(props) => (props.mobileSite ? \"100%\" : \"120px\")};\n  height: ${(props) => (props.mobileSite ? \"2rem\" : \"60px\")};\n  background: ${(props) => (props.mobileSite ? \"#333d51\" : \"none\")};\n  color: ${(props) => (props.mobileSite ? \"#f4f3ea\" : \"#333d51\")};\n  font-family: \"Roboto Condensed\", sans-serif;\n  font-size: ${(props) => (props.mobileSite ? \"24px\" : \"16px\")};\n  font-weight: bold;\n  outline: none;\n  cursor: pointer;\n  border: none;\n  border-radius: 0.3rem;\n  transition: all 0.5s;\n  &:hover {\n    color: #d3ac2b;\n    transform: scale(1.1);\n  }\n\n  margin-right: ${(props) => (props.mobileSite ? \"0\" : \"40px\")};\n  margin-top: ${(props) => (props.mobileSite ? \"45px\" : \"10px\")};\n  text-align: center;\n`;\n\nconst NavButtonsDiv = styled.div`\n  position: absolute;\n  top: 72px;\n  transform: translateX(-1.25rem);\n  right: 100px;\n  z-index: 10;\n  background: white;\n  width: 18rem;\n  height: auto;\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  border-radius: 0.3rem;\n  &:after {\n    content: \"\";\n    position: absolute;\n    bottom: 100%;\n    left: 71.2%;\n    margin-left: -10px;\n    border-width: 10px;\n    border-style: solid;\n    border-color: transparent transparent white transparent;\n  }\n`;\n\nconst MobileNavButtonsDiv = styled.div`\n  position: absolute;\n  left: 0;\n  padding-left: 40px;\n  padding-top: 10px;\n  top: 80px;\n  display: flex;\n  align-items: flex-start;\n  flex-direction: column;\n  z-index: 100;\n  width: 105vw;\n  animation: enterTopRight 0.5s;\n  transform-origin: 0% 0%;\n  background-image: url(\"${wave}\");\n  height: 100vh;\n`;\n\nfunction NavBar({ logout, getOrders, user, mobile, cartCount }) {\n  const logoStyle = {\n    float: \"left\",\n    marginLeft: \"20px\",\n    marginTop: \"1.5rem\",\n    color: \"#F4F3EA\",\n    fontSize: \"24px\",\n  };\n\n  const greetingStyle = {\n    color: \"#F4F3EA\",\n    fontSize: \"14px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    cursor: \"pointer\",\n    marginTop: \"0.7rem\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    zIndex: \"101\",\n    height: \"auto\",\n    minHeight: \"60px\",\n  };\n\n  const [showNav, setShowNav] = useState(false);\n  const [translucent, setTranslucent] = useState(false);\n  const [showNavOptions, setShowNavOptions] = useState(false);\n\n  const isUserAdmin = user.role === \"administrator\";\n\n  const showNavDropDown = !mobile && showNavOptions;\n\n  const handleTranslucentOnScroll = () => {\n    if (window.scrollY > 0) {\n      setTranslucent(true);\n    } else {\n      setTranslucent(false);\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleTranslucentOnScroll);\n    return () => {\n      window.removeEventListener(\"scroll\", handleTranslucentOnScroll);\n    };\n  }, []);\n\n  const ShoppingCart = () => {\n    return (\n      <Link to=\"/apple_shop/cart\">\n        <div\n          className=\"cart\"\n          style={{\n            marginTop: \"1rem\",\n            marginRight: mobile ? \"3rem\" : 0,\n            cursor: \"pointer\",\n            color: \"white\",\n            textAlign: \"center\",\n            display: \"flex\",\n            alignItems: \"center\",\n            float: \"right\",\n          }}\n        >\n          <IconButton aria-label=\"cart\">\n            <StyledBadge badgeContent={cartCount} color=\"secondary\">\n              <ShoppingCartIcon\n                style={{ color: \"white\", fontSize: \"xx-large\" }}\n              />\n            </StyledBadge>\n          </IconButton>\n        </div>\n      </Link>\n    );\n  };\n\n  return (\n    <>\n      <Nav style={{ opacity: translucent ? \"0.8\" : \"1\" }}>\n        {!mobile && (\n          <Link to=\"/apple_shop/home\">\n            <div className=\"title\" style={logoStyle}>\n              {\" \"}\n              <i className=\"fab fa-apple\"></i> Shop\n            </div>\n          </Link>\n        )}\n        {!mobile && (\n          <div\n            className=\"right-nav\"\n            style={{\n              float: \"right\",\n              marginRight: \"5rem\",\n              display: \"flex\",\n              width: \"15rem\",\n              alignItems: \"center\",\n              justifyContent: \"space-around\",\n            }}\n          >\n            <div\n              className=\"options\"\n              onMouseEnter={() => setShowNavOptions(true)}\n              onMouseLeave={() => setShowNavOptions(false)}\n              style={greetingStyle}\n            >\n              <p style={{ margin: \"0\" }}>{`Hello, ${user.username}`}</p>\n              <div\n                style={{\n                  alignItems: \"center\",\n                  display: \"flex\",\n                  fontWeight: \"bold\",\n                  fontSize: \"1rem\",\n                }}\n              >\n                Accounts & Lists\n                <ChevronDown size={16} />\n              </div>\n              {showNavDropDown && (\n                <NavButtonsDiv>\n                  <Link to=\"/apple_shop/orders\">\n                    <NavButton\n                      onClick={() => {\n                        getOrders(user.role);\n                        setShowNavOptions(false);\n                      }}\n                    >\n                      {isUserAdmin ? \"Orders\" : \"My Orders\"}\n                    </NavButton>\n                  </Link>\n                  {isUserAdmin && (\n                    <Link to=\"/apple_shop/create-product\">\n                      <NavButton onClick={() => setShowNavOptions(false)}>\n                        Create a Product\n                      </NavButton>\n                    </Link>\n                  )}\n                  <Link to=\"/apple_shop/products\">\n                    <NavButton onClick={() => setShowNavOptions(false)}>\n                      Products\n                    </NavButton>\n                  </Link>\n                  <Link to=\"/apple_shop/password\">\n                    <NavButton onClick={() => setShowNavOptions(false)}>\n                      Manage Passwords\n                    </NavButton>\n                  </Link>\n                  <NavButton onClick={logout}>Logout</NavButton>\n                </NavButtonsDiv>\n              )}\n            </div>\n            <ShoppingCart />\n          </div>\n        )}\n        {mobile && (\n          <>\n            <NavButton\n              mobileSite={mobile}\n              onClick={() => setShowNav(!showNav)}\n              style={{\n                float: \"left\",\n                marginTop: \"10px\",\n                width: \"120px\",\n                fontSize: \"20px\",\n                height: \"50px\",\n              }}\n            >\n              {showNav ? (\n                <i className=\"fas fa-times fa-2x\"></i>\n              ) : (\n                <i className=\"fas fa-bars fa-2x\"></i>\n              )}\n            </NavButton>\n            <ShoppingCart />\n          </>\n        )}\n        {showNav && (\n          <MobileNavButtonsDiv onClick={() => mobile && setShowNav(!showNav)}>\n            <Link to=\"/apple_shop/home\">\n              <NavButton mobileSite={true}>Home</NavButton>\n            </Link>\n            <Link to=\"/apple_shop/orders\">\n              <NavButton mobileSite={true} onClick={() => getOrders(user.role)}>\n                {isUserAdmin ? \"Orders\" : \"My Orders\"}\n              </NavButton>\n            </Link>\n            {isUserAdmin && (\n              <Link to=\"/apple_shop/create-product\">\n                <NavButton mobileSite={true}>Create a Product</NavButton>\n              </Link>\n            )}\n            <Link to=\"/apple_shop/products\">\n              <NavButton mobileSite={true}>Products</NavButton>\n            </Link>\n            <Link to=\"/apple_shop/password\">\n              <NavButton mobileSite={true}>Manage Passwords</NavButton>\n            </Link>\n            <div\n              className=\"logout\"\n              style={{\n                width: \"80vw\",\n                left: \"0\",\n                position: \"relative\",\n                border: \"none\",\n                display: \"flex\",\n                alignItems: \"flex-start\",\n                marginTop: \"10vh\",\n              }}\n            >\n              <Link>\n                <NavButton\n                  style={{ background: \"none\", color: \"#333d51\" }}\n                  mobileSite={true}\n                  onClick={logout}\n                >\n                  Logout\n                </NavButton>\n              </Link>\n            </div>\n          </MobileNavButtonsDiv>\n        )}\n      </Nav>\n    </>\n  );\n}\n\nexport default NavBar;\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport { IMAGES_URL } from \"../constants\";\nimport { Button } from \"./styledElements\";\n\nconst OrderItemDiv = styled.div`\n  display: grid;\n  width: 80%;\n  grid-template-areas:\n    \"pic title\"\n    \"pic price\"\n    \"pic subtotal\"\n    \"pic order\";\n  padding: 2rem;\n  @media (max-width: 768px) {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n  grid-template-columns: 1fr 2fr;\n  grid-template-rows: 1fr 1fr 1fr;\n  border: 1px solid lightgrey;\n  margin-bottom: 1rem;\n  border-radius: 0.4rem;\n  background: white;\n`;\n\nfunction OrderItem({\n  image,\n  title,\n  productId,\n  addToCart,\n  price,\n  quantity,\n  subtotal,\n}) {\n  const handleBuyAgain = () => {\n    const params = { product: productId, quantity: 1 };\n    addToCart(params);\n  };\n  return (\n    <OrderItemDiv>\n      <div className=\"order-image\" style={{ gridArea: \"pic\", width: \"200px\" }}>\n        <img\n          src={`${IMAGES_URL}/${image}`}\n          alt={title}\n          loading=\"lazy\"\n          className=\"product-img\"\n        />\n      </div>\n      <div className=\"order-item-title\" style={{ gridArea: \"title\" }}>\n        {title}\n      </div>\n      <div className=\"order-item-price\" style={{ gridArea: \"price\" }}>\n        <strong>{`Price: $${new Intl.NumberFormat().format(\n          price\n        )} x ${quantity}`}</strong>\n      </div>\n      <div className=\"subtotal\" style={{ gridArea: \"subtotal\" }}>\n        <strong>{`Subtotal: $${subtotal}.00`}</strong>\n      </div>\n      <div className=\"reorder\" style={{ gridArea: \"order\" }}>\n        <Button onClick={handleBuyAgain}>Buy Again</Button>\n      </div>\n    </OrderItemDiv>\n  );\n}\n\nexport default OrderItem;\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport OrderItem from \"./OrderItem\";\n\nconst OrderWrapper = styled.div`\n  position: relative;\n  margin: 2rem auto;\n  width: 80vw;\n  height: auto;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: white;\n  border: 1px solid lightgrey;\n  border-radius: 0.4rem;\n`;\n\nfunction OrderView({\n  date,\n  total,\n  orderId,\n  user,\n  addToCart,\n  orderItems,\n  mobile,\n}) {\n  const orderHeader = (className, headerText, value) => {\n    return (\n      <div\n        className={className}\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          textAlign: \"center\",\n        }}\n      >\n        <h3>{headerText}</h3>\n        <div className={className}>{value}</div>\n      </div>\n    );\n  };\n  return (\n    <OrderWrapper>\n      <div\n        className=\"order-header\"\n        style={{\n          display: \"flex\",\n          flexDirection: mobile ? \"column\" : \"row\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          background: \"lightgrey\",\n          width: \"100%\",\n          marginBottom: \"1rem\",\n          padding: \"1rem\",\n          borderRadius: \"0.4rem\",\n          boxSizing: \"border-box\",\n        }}\n      >\n        {!mobile && orderHeader(\"user\", \"USER\", user)}\n        {orderHeader(\"date-placed\", \"ORDER PLACED\", date)}\n        {orderHeader(\"order-total\", \"TOTAL\", total)}\n        {!mobile && orderHeader(\"order-number\", \"ORDER #\", orderId)}\n      </div>\n      {orderItems?.map((item, i) => (\n        <OrderItem\n          image={item.productImage}\n          title={item.product}\n          productId={item.productId}\n          quantity={item.quantity}\n          addToCart={addToCart}\n          price={item.unitPrice}\n          subtotal={item.total}\n          key={i}\n        />\n      ))}\n    </OrderWrapper>\n  );\n}\n\nexport default OrderView;\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport OrderView from \"./OrderView\";\n\nfunction Orders({ orders, mobile, addToCart }) {\n  const Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    position: relative;\n    top: 150px;\n    width: 100vw;\n    margin-left: auto;\n    margin-right: auto;\n  `;\n\n  return (\n    <Wrapper>\n      {!orders.length && (\n        <h2 style={{ marginLeft: \"auto\", marginRight: \"auto\" }}>\n          No orders placed yet!\n        </h2>\n      )}\n      {orders?.map((order, i) => (\n        <OrderView\n          total={order.order.OrderTotal}\n          user={order.order.user && order.order.user}\n          date={order.order.dateCreated}\n          orderId={order.order.id}\n          orderItems={order.order.items}\n          addToCart={addToCart}\n          mobile={mobile}\n          key={i}\n        />\n      ))}\n    </Wrapper>\n  );\n}\n\nexport default Orders;\n","export default __webpack_public_path__ + \"static/media/apple-products.7abda74a.jpeg\";","import React from 'react';\nimport styled from '@emotion/styled';\nimport {Button} from './styledElements';\nimport { Link } from 'react-router-dom';\nimport homeBackground from '../assets/apple-products.jpeg';\n\nfunction Home () {\n\n    const StyledWrapper = styled.div`\n        width: 50vw;\n        background-color: white;\n        border: none;\n        border-radius: 0.5rem;\n        height: auto;\n        display: flex;\n        flex-direction: column;\n        text-align: center;\n        color: #212a31;\n        margin-left: auto;\n        margin-right: auto;\n        padding: 40px;\n    `;\n\n    const StyledContainer = styled.div`\n        position: absolute;\n        top: 68px;\n        height: 100vh;\n        width: 100vw;\n        left: 0;\n        display: flex;\n        background-image: url('${homeBackground}');\n        background-position: center;\n        justify-content: center;\n        align-items: center;\n    `;\n\n    return (\n        <StyledContainer>\n            <StyledWrapper>\n                <h1 className=\"welcome\">Welcome to the Apple Shop <i className=\"fab fa-apple\"></i>!</h1>\n                <h3 className=\"landing\">Your one stop shopping experience for all things Apple. We pride ourselves in being a premier supplier of Apple products.</h3>\n                <Link to='/apple_shop/products'><Button>Browse</Button></Link>\n            </StyledWrapper>\n        </StyledContainer>\n    )\n}\n\nexport default Home;","import React, { useState } from \"react\";\nimport styled from \"@emotion/styled\";\nimport { IMAGES_URL } from \"../constants\";\nimport { Button } from \"./styledElements\";\n\nconst CartItemDiv = styled.div`\n  display: grid;\n  width: 80%;\n  grid-template-areas:\n    \"pic title\"\n    \"pic price\"\n    \"pic quantity\"\n    \"pic remove\";\n  padding: 2rem;\n  @media (max-width: 768px) {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n  grid-template-columns: 1fr 2fr;\n  grid-template-rows: 1fr 1fr 1fr;\n  border: 1px solid lightgrey;\n  margin-bottom: 1rem;\n  border-radius: 0.4rem;\n  background: white;\n`;\n\nconst AmountSelect = styled.select`\n  width: 60px;\n  height: 2rem;\n  background: lightgrey;\n  border-radius: 0.4rem;\n  padding-left: 0.5rem;\n  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;\n  cursor: pointer;\n  color: #212a31;\n  border: none;\n  outline: none;\n  background-color: #ffcc00;\n  transition: all 0.3s;\n  outline: none;\n  &:hover {\n    background-color: #e5b700;\n    transform: scale(1.1);\n  }\n`;\n\nconst CartItem = ({\n  updateCart,\n  productId,\n  image,\n  title,\n  price,\n  quantity,\n  removeFromCart,\n}) => {\n  const [amount, setAmount] = useState(quantity);\n\n  const handleAmountChange = (e) => {\n    setAmount(e.target.value);\n    const params = { product: productId, quantity: e.target.value };\n    updateCart(params);\n  };\n\n  const handleRemoveItem = () => {\n    const params = { product: productId };\n    removeFromCart(params);\n  };\n\n  return (\n    <CartItemDiv>\n      <div className=\"cart-image\" style={{ gridArea: \"pic\", width: \"200px\" }}>\n        <img\n          src={`${IMAGES_URL}/${image}`}\n          alt={title}\n          loading=\"lazy\"\n          className=\"product-img\"\n        />\n      </div>\n      <div className=\"cart-item-title\" style={{ gridArea: \"title\" }}>\n        {title}\n      </div>\n      <div className=\"cart-item-price\" style={{ gridArea: \"price\" }}>\n        <strong>Price: ${new Intl.NumberFormat().format(price)}</strong>\n      </div>\n      <div className=\"cart-quantity-btn\" style={{ gridArea: \"quantity\" }}>\n        <AmountSelect\n          name=\"quantity\"\n          id=\"quantity\"\n          defaultValue={amount}\n          onChange={handleAmountChange}\n          style={{}}\n        >\n          <option value={1}>1</option>\n          <option value={2}>2</option>\n          <option value={3}>3</option>\n          <option value={4}>4</option>\n          <option value={5}>5</option>\n        </AmountSelect>\n      </div>\n      <div className=\"remove-from-cart\" style={{ gridArea: \"remove\" }}>\n        <Button onClick={handleRemoveItem}>Remove</Button>\n      </div>\n    </CartItemDiv>\n  );\n};\n\nexport default CartItem;\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport CartItem from \"./CartItem\";\nimport { Button } from \"./styledElements\";\n\nconst CartWrapper = styled.div`\n  position: relative;\n  margin: 10rem auto;\n  width: 80vw;\n  height: auto;\n  padding: 2rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: white;\n  border: 1px solid lightgrey;\n  border-radius: 0.2rem;\n`;\n\nconst Cart = ({\n  cart,\n  updateCart,\n  count,\n  removeFromCart,\n  placeOrder,\n  mobile,\n}) => {\n  return (\n    <CartWrapper>\n      <div\n        className=\"cart-header\"\n        style={{\n          display: \"flex\",\n          flexDirection: mobile ? \"column\" : \"row\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          width: \"87%\",\n          borderBottom: \"1px solid lightgrey\",\n          marginBottom: \"1rem\",\n        }}\n      >\n        <h2>Shopping Cart</h2>\n        <div className=\"cart-total\">\n          <strong>\n            {`Subtotal (${count} items): `}\n            {`${cart.total || \"$0.00\"}`}\n          </strong>\n        </div>\n        {cart.items && <Button onClick={placeOrder}>Place Order</Button>}\n      </div>\n      {cart.items?.map((item, i) => (\n        <CartItem\n          image={item.product.productImage}\n          title={item.product.name}\n          price={item.product.price}\n          quantity={item.quantity}\n          productId={item.product._id}\n          updateCart={updateCart}\n          removeFromCart={removeFromCart}\n          key={i}\n        />\n      ))}\n      {!cart.items && (\n        <div className=\"empty-cart\" style={{ textAlign: \"center\" }}>\n          <h1>\n            Your Shopping Cart is Empty. Fill it with goodies that you love!\n          </h1>\n        </div>\n      )}\n    </CartWrapper>\n  );\n};\n\nexport default Cart;\n","import React, { useRef, useState } from \"react\";\nimport { FormDiv, Button, Input } from \"./styledElements\";\n\nfunction CreateProduct({ addProduct }) {\n  const [image, setImage] = useState();\n\n  const nameRef = useRef();\n  const priceRef = useRef();\n  const videoRef = useRef();\n\n  const handleCreateProduct = (e) => {\n    e.preventDefault();\n\n    const data = new FormData();\n    data.append(\"productImage\", image, image.name);\n    data.append(\"name\", nameRef.current.value);\n    data.append(\"price\", priceRef.current.value);\n    data.append(\"videoURL\", videoRef.current.value);\n    const config = {\n      headers: {\n        \"content-type\": \"multipart/form-data\",\n      },\n    };\n    addProduct(e, data, config);\n  };\n\n  return (\n    <FormDiv>\n      <form\n        className=\"create-product-form\"\n        encType=\"multipart/form-data\"\n        onSubmit={handleCreateProduct}\n      >\n        <Input\n          ref={nameRef}\n          type=\"text\"\n          name=\"productName\"\n          id=\"productName\"\n          placeholder=\"Enter a product name\"\n          required\n        />\n        <Input\n          ref={priceRef}\n          type=\"number\"\n          name=\"price\"\n          id=\"price\"\n          placeholder=\"Set a product price\"\n          required\n        />\n        <Input\n          onChange={(e) => setImage(e.target.files[0])}\n          type=\"file\"\n          name=\"productImage\"\n          id=\"productImage\"\n          placeholder=\"Upload a product image\"\n          required\n        />\n        <Input\n          ref={videoRef}\n          type=\"text\"\n          name=\"videoURL\"\n          id=\"videoURL\"\n          placeholder=\"Paste a video URL for the product ad\"\n          required\n        />\n        <Button style={{ width: \"260px\" }} type=\"submit\">\n          Create Product\n        </Button>\n      </form>\n    </FormDiv>\n  );\n}\n\nexport default CreateProduct;\n","import React, { useState } from \"react\";\nimport {\n  FormDiv,\n  Button,\n  Input,\n  PasswordChecks,\n  Check,\n} from \"./styledElements\";\nimport { toastConfig } from \"./styledElements\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { CheckSquare, XCircle } from \"react-feather\";\n\nfunction PasswordUpdate({ user, updatePassword }) {\n  const [currentPassword, setCurrentPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n\n  const passwordsMatch = newPassword === confirmPassword;\n\n  const handlePasswordUpdate = (e) => {\n    e.preventDefault();\n    if (!passwordsMatch) {\n      return toast.error(\"Passwords do not match\", toastConfig);\n    }\n    const params = {\n      password: user.password,\n      newPassword,\n      currentPassword,\n    };\n    updatePassword(e, params);\n  };\n\n  const characterCountRegex = /.{8,}/;\n  const uppercaseRegex = /(?=.*?[A-Z])/;\n  const specialCharacterRegex = /(?=.*?[#?!@$%^&*-])/;\n  const digitRegex = /(?=.*?[0-9])/;\n\n  const passwordRegex = /^(?=.*?[A-Z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/;\n\n  return (\n    <FormDiv style={{ width: \"340px\" }}>\n      <ToastContainer />\n      <form onSubmit={handlePasswordUpdate} className=\"password-update\">\n        <Input\n          value={currentPassword}\n          type=\"password\"\n          name=\"currentPassword\"\n          id=\"currentPassword\"\n          placeholder=\"Enter current password\"\n          onChange={(e) => setCurrentPassword(e.target.value)}\n          required\n        />\n        <Input\n          value={newPassword}\n          type=\"password\"\n          name=\"newPassword\"\n          id=\"newPassword\"\n          placeholder=\"Enter new password\"\n          onChange={(e) => setNewPassword(e.target.value)}\n          required\n        />\n        {newPassword && (\n          <PasswordChecks>\n            <Check>\n              {characterCountRegex.test(newPassword) ? (\n                <CheckSquare\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                />\n              ) : (\n                <XCircle\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                />\n              )}\n              <span style={{ fontSize: \"14px\" }}>\n                Password must contain atleast 8 characters\n              </span>\n            </Check>\n            <Check>\n              {uppercaseRegex.test(newPassword) ? (\n                <CheckSquare\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                />\n              ) : (\n                <XCircle\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                />\n              )}\n              <span style={{ fontSize: \"14px\" }}>\n                Password must contain atleast one uppercase\n              </span>\n            </Check>\n            <Check>\n              {digitRegex.test(newPassword) ? (\n                <CheckSquare\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                />\n              ) : (\n                <XCircle\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                />\n              )}\n              <span style={{ fontSize: \"14px\" }}>\n                Password must contain atleast one digit\n              </span>\n            </Check>\n            <Check>\n              {specialCharacterRegex.test(newPassword) ? (\n                <CheckSquare\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                />\n              ) : (\n                <XCircle\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                />\n              )}\n              <span style={{ fontSize: \"14px\" }}>\n                Password must contain atleast one special character\n              </span>\n            </Check>\n          </PasswordChecks>\n        )}\n        <Input\n          value={confirmPassword}\n          type=\"password\"\n          name=\"confirmPassword\"\n          id=\"confirmPassword\"\n          placeholder=\"Reenter new password\"\n          onChange={(e) => setConfirmPassword(e.target.value)}\n          required\n        />\n        {confirmPassword && (\n          <PasswordChecks style={{ height: \"auto\" }}>\n            <Check>\n              {passwordsMatch ? (\n                <CheckSquare\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"green\" }}\n                />\n              ) : (\n                <XCircle\n                  size={20}\n                  style={{ marginRight: \"0.5rem\", color: \"red\" }}\n                />\n              )}\n              <span style={{ fontSize: \"14px\" }}>\n                {passwordsMatch ? \"Passwords match\" : \"Passwords do not match\"}\n              </span>\n            </Check>\n          </PasswordChecks>\n        )}\n        <Button\n          disabled={!passwordsMatch || !passwordRegex.test(newPassword)}\n          type=\"submit\"\n          style={{ width: \"180px\" }}\n        >\n          Update Password\n        </Button>\n      </form>\n    </FormDiv>\n  );\n}\n\nexport default PasswordUpdate;\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport { Route, Switch, useHistory } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport LoadingBar from \"react-top-loading-bar\";\nimport { setBearerToken, shopApiInstance } from \"../network\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport Catalogue from \"./Catalogue\";\nimport NavBar from \"./NavBar\";\nimport Orders from \"./Orders\";\nimport Home from \"./Home\";\nimport Cart from \"./Cart\";\nimport CreateProduct from \"./CreateProduct\";\nimport PasswordUpdate from \"./PasswordUpdate\";\nimport { usePersistedState } from \"../utils\";\nimport { toastConfig } from \"./styledElements\";\nimport {\n  login,\n  loginFailure,\n  loginSuccess,\n  logout,\n} from \"../redux/resources/user\";\nimport {\n  getOrdersFailure,\n  getOrdersRequest,\n  getOrdersSuccess,\n} from \"../redux/resources/orders\";\nimport {\n  getProductsFailure,\n  getProductsRequest,\n  getProductsSuccess,\n} from \"../redux/resources/products\";\nimport {\n  getCartSuccess,\n  getCartRequest,\n  getCartFailure,\n} from \"../redux/resources/cart\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nfunction App() {\n  const [mobile, setMobile] = usePersistedState(\"mobile\", false);\n  const [progress, setProgress] = usePersistedState(\"progress\", 0);\n  const [cartCount, setCartCount] = useState(0);\n\n  const dispatch = useDispatch();\n  const { user, orders, products, cart } = useSelector((state) => state);\n\n  useEffect(() => {\n    const count = cart.items\n      ? cart.items.reduce((acc, item) => acc + item.quantity, 0)\n      : 0;\n    setCartCount(count);\n  }, [cart]);\n\n  let history = useHistory();\n\n  useEffect(() => {\n    window.addEventListener(\"load\", () => {\n      setBearerToken(user.token || \"\");\n    });\n    window.addEventListener(\"resize\", () =>\n      window.innerWidth < 768 ? setMobile(true) : setMobile(false)\n    );\n  });\n\n  useEffect(() => {\n    window.innerWidth < 768 ? setMobile(true) : setMobile(false);\n  }, [setMobile]);\n\n  const getCart = async () => {\n    try {\n      const response = await shopApiInstance.get(\"/cart\");\n      dispatch(getCartSuccess(response.data));\n    } catch (error) {\n      dispatch(getCartFailure(error));\n    }\n  };\n\n  const getOrders = async (role) => {\n    const url = role === \"administrator\" ? \"/orders/admin\" : \"/orders\";\n    try {\n      const response = await shopApiInstance.get(url);\n      if (response.data.orders) {\n        dispatch(getOrdersSuccess(response.data.orders.reverse()));\n      } else {\n        dispatch(getOrdersSuccess([]));\n      }\n    } catch (error) {\n      dispatch(getOrdersFailure(error));\n    }\n  };\n\n  const getProducts = async () => {\n    try {\n      const response = await shopApiInstance.get(\"/products\");\n      dispatch(getProductsSuccess(response.data.products.reverse()));\n    } catch (error) {\n      dispatch(getProductsFailure(error));\n    }\n  };\n\n  const getUser = (token) => {\n    const decodedUser = jwt_decode(token);\n    const { username, email, role, password, userId } = decodedUser;\n    const loggedInUser = { username, email, role, password, userId, token };\n    dispatch(loginSuccess(loggedInUser));\n  };\n\n  const handleLogin = async (e, params) => {\n    setProgress(40);\n    e.preventDefault();\n    dispatch(login());\n    dispatch(getOrdersRequest());\n    dispatch(getProductsRequest());\n    dispatch(getCartRequest());\n    try {\n      const response = await shopApiInstance.post(\"/users/signin\", params);\n      e.target.reset();\n      setProgress(100);\n      setBearerToken(response.data.token);\n      getUser(response.data.token);\n      getCart();\n      getOrders(user.role);\n      getProducts();\n      toast.success(\"Successfully logged in!\", toastConfig);\n      history.push(\"/apple_shop/home\");\n    } catch (err) {\n      setProgress(100);\n      console.log(err);\n      const error = () => {\n        if (err.message.includes(\"401\"))\n          return \"Email/Password combination incorrect. Try again.\";\n        if (err.message.includes(\"404\")) return \"User not found.\";\n      };\n      dispatch(loginFailure(error()));\n      toast.error(error(), toastConfig);\n    }\n  };\n\n  const handleRegister = async (e, params) => {\n    setProgress(40);\n    e.preventDefault();\n    try {\n      const response = await shopApiInstance.post(\"/users/signup\", params);\n      if (response.data) {\n        toast.success(\"Product successfully created\", toastConfig);\n        getProducts();\n        history.push(\"/apple_shop/products\");\n      }\n    } catch (err) {\n      setProgress(100);\n      toast.error(err.message, toastConfig);\n    }\n  };\n\n  const addProduct = async (e, params) => {\n    dispatch(getProductsRequest());\n    try {\n      const response = await shopApiInstance.post(\"/products\", params);\n      if (response.data) {\n        toast.success(\"Product successfully created\", toastConfig);\n        getProducts();\n        history.push(\"/apple_shop/products\");\n      }\n    } catch (err) {\n      dispatch(getProductsFailure(err));\n      toast.error(err.message, toastConfig);\n    } finally {\n      e.target.reset();\n    }\n  };\n\n  const updateProduct = async (e, id, params) => {\n    dispatch(getProductsRequest());\n    try {\n      const response = await shopApiInstance.put(`/products/${id}`, params);\n      if (response.data) {\n        toast.success(\"Product successfully updated\", toastConfig);\n        getProducts();\n        history.push(\"/apple_shop/products\");\n      }\n    } catch (err) {\n      dispatch(getProductsFailure(err));\n      toast.error(err.message, toastConfig);\n    } finally {\n      e.target.reset();\n    }\n  };\n\n  const deleteProduct = async (id) => {\n    dispatch(getProductsRequest());\n    const deleteParams = { productId: id };\n    try {\n      const response = await shopApiInstance.delete(\"/orders/delete\", {\n        data: deleteParams,\n      });\n      if (response.data) {\n        const productDeleteResponse = await shopApiInstance.delete(\n          `/products/${id}`\n        );\n        if (productDeleteResponse.data) {\n          toast.success(\"Product successfully deleted\", toastConfig);\n          getProducts();\n          history.push(\"/apple_shop/products\");\n        }\n      }\n    } catch (err) {\n      dispatch(getProductsFailure(err));\n      toast.error(err.message, toastConfig);\n    }\n  };\n\n  const updatePassword = async (e, params) => {\n    try {\n      const response = await shopApiInstance.put(\n        `/users/${user.userId}`,\n        params\n      );\n      if (response.data) {\n        toast.success(\"Password successfully updated\", toastConfig);\n        history.push(\"/apple_shop/home\");\n      }\n    } catch (err) {\n      const error = err.message.includes(\"401\")\n        ? \"Incorrect password. Try again.\"\n        : err.message;\n      toast.error(error, toastConfig);\n    } finally {\n      e.target.reset();\n    }\n  };\n\n  const updateProductAvailability = async (path) => {\n    dispatch(getProductsRequest());\n    try {\n      const response = await shopApiInstance.put(path);\n      if (response.data) {\n        toast.success(\"Product availability successfully updated\", toastConfig);\n        getProducts();\n        history.push(\"/apple_shop/products\");\n      }\n    } catch (err) {\n      dispatch(getProductsFailure(err));\n      toast.error(err.message, toastConfig);\n    }\n  };\n\n  const addToCart = async (params) => {\n    dispatch(getCartRequest());\n    try {\n      const response = await shopApiInstance.post(\"/cart\", params);\n      if (response.data) {\n        toast.success(\"Product successfully added to cart\", toastConfig);\n        getCart();\n      }\n    } catch (err) {\n      dispatch(getCartFailure(err));\n      toast.error(err.message, toastConfig);\n    }\n  };\n\n  const updateCart = async (params) => {\n    try {\n      const response = await shopApiInstance.put(\"/cart/update\", params);\n      if (response.data) {\n        toast.success(\"Cart successfully updated\", toastConfig);\n        getCart();\n      }\n    } catch (err) {\n      dispatch(getCartFailure(err));\n      toast.error(err.message, toastConfig);\n    }\n  };\n\n  const removeFromCart = async (params) => {\n    dispatch(getCartRequest());\n    try {\n      const response = await shopApiInstance.put(\"/cart/remove\", params);\n      if (response.data) {\n        toast.success(\"Product successfully removed from cart\", toastConfig);\n        getCart();\n      }\n    } catch (err) {\n      dispatch(getCartFailure(err));\n      toast.error(err.message, toastConfig);\n    }\n  };\n\n  const placeOrder = async () => {\n    dispatch(getOrdersRequest());\n    dispatch(getCartRequest());\n    try {\n      const response = await shopApiInstance.post(\"/orders\");\n      if (response.data) {\n        toast.success(\"Order successfully placed\", toastConfig);\n        getOrders(user.role);\n        getCart();\n      }\n    } catch (err) {\n      dispatch(getCartFailure(err));\n      dispatch(getOrdersFailure(err));\n      toast.error(err.message, toastConfig);\n    }\n  };\n\n  const logoutUser = () => {\n    setBearerToken(\"\");\n    toast.dark(\"Logged out.\", toastConfig);\n    history.push(\"/apple_shop\");\n    dispatch(logout());\n    sessionStorage.clear();\n  };\n\n  return (\n    <Fragment>\n      <LoadingBar\n        color=\"blue\"\n        progress={progress}\n        onLoaderFinished={() => setProgress(0)}\n      />\n      <ToastContainer />\n      {user.user.isLoggedIn && (\n        <NavBar\n          logout={logoutUser}\n          getOrders={getOrders}\n          user={user.user}\n          mobile={mobile}\n          cartCount={cartCount}\n        />\n      )}\n      <Switch>\n        <Route\n          exact\n          path=\"/apple_shop\"\n          render={(props) => <Login {...props} handleLogin={handleLogin} />}\n        />\n        <Route path=\"/apple_shop/home\" component={Home} />\n        <Route\n          path=\"/apple_shop/register\"\n          render={(props) => (\n            <Register {...props} handleRegister={handleRegister} />\n          )}\n        />\n        <Route\n          path=\"/apple_shop/products\"\n          render={(props) => (\n            <Catalogue\n              {...props}\n              products={products.products}\n              user={user.user}\n              addToCart={addToCart}\n              deleteProduct={deleteProduct}\n              updateProductAvailability={updateProductAvailability}\n              updateProduct={updateProduct}\n              mobile={mobile}\n            />\n          )}\n        />\n        <Route\n          path=\"/apple_shop/orders\"\n          render={(props) => (\n            <Orders\n              {...props}\n              orders={orders.orders}\n              mobile={mobile}\n              addToCart={addToCart}\n            />\n          )}\n        />\n        <Route\n          path=\"/apple_shop/cart\"\n          render={(props) => (\n            <Cart\n              {...props}\n              updateCart={updateCart}\n              cart={cart}\n              count={cartCount}\n              removeFromCart={removeFromCart}\n              placeOrder={placeOrder}\n              mobile={mobile}\n            />\n          )}\n        />\n        <Route\n          path=\"/apple_shop/create-product\"\n          render={(props) => (\n            <CreateProduct {...props} addProduct={addProduct} />\n          )}\n        />\n        <Route\n          path=\"/apple_shop/password\"\n          render={(props) => (\n            <PasswordUpdate\n              {...props}\n              user={user.user}\n              updatePassword={updatePassword}\n            />\n          )}\n        />\n      </Switch>\n    </Fragment>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport App from \"./components/App\";\nimport \"./index.css\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}