{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useRef,Fragment}from'react';import{Button,Input}from'./styledElements';import{shopApiInstance}from'../network';import{toast,ToastContainer}from'react-toastify';import{toastConfig}from'./styledElements';function Modal(_ref){var productId=_ref.productId,toggle=_ref.toggle,display=_ref.display,deleteProduct=_ref.deleteProduct,UpdateProductModal=_ref.UpdateProductModal;var quantityRef=useRef();var placeOrder=function placeOrder(e){e.preventDefault();toggle('modal');var quantity=quantityRef.current.value;if(quantity==='0')return toast.error('Please enter a quantity',toastConfig);console.log(productId,quantity);var params={product:productId,quantity:quantity};shopApiInstance.post('/orders/',params).then(function(response){console.log(response.data);toast.dark(response.data.message,toastConfig);}).catch(function(err){console.log(err.message);toast.error(err.message,toastConfig);});e.target.reset();};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(\"div\",{className:\"modal modal-\".concat(productId),style:{top:'0px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[display==='order'&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"order-modal\",children:\"How many would you like to order?\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:placeOrder,children:[/*#__PURE__*/_jsx(Input,{type:\"number\",name:\"quantity\",defaultValue:\"1\",ref:quantityRef,style:{textAlign:'center'}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{type:\"submit\",style:{width:'130px'},children:\"Confirm Order\"})]})]}),display==='delete'&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"delete-modal\",children:\"Are you sure you want to delete this product?\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return deleteProduct(productId);},style:{width:'120px',alignSelf:'center'},children:\"Confirm Delete\"})]}),display==='update'&&/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(UpdateProductModal,{})}),/*#__PURE__*/_jsx(Button,{style:{alignSelf:'center'},onClick:function onClick(){return toggle('modal');},children:\"Cancel\"})]})})]});}export default Modal;","map":{"version":3,"sources":["/Users/kabash/Documents/shop-frontend/src/components/Modal.js"],"names":["React","useRef","Fragment","Button","Input","shopApiInstance","toast","ToastContainer","toastConfig","Modal","productId","toggle","display","deleteProduct","UpdateProductModal","quantityRef","placeOrder","e","preventDefault","quantity","current","value","error","console","log","params","product","post","then","response","data","dark","message","catch","err","target","reset","top","textAlign","width","alignSelf"],"mappings":"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","sourcesContent":["import React, { useRef, Fragment } from 'react';\nimport { Button, Input } from './styledElements';\nimport { shopApiInstance } from '../network';\nimport { toast, ToastContainer } from 'react-toastify';\nimport { toastConfig } from './styledElements'; \n\n\nfunction Modal({productId, toggle, display, deleteProduct, UpdateProductModal}) {\n\n    const quantityRef = useRef();\n\n    const placeOrder = e => {\n        e.preventDefault();\n        toggle('modal');\n        const quantity = quantityRef.current.value;\n        if(quantity === '0') return toast.error('Please enter a quantity', toastConfig);\n        console.log(productId, quantity);\n        const params = {product: productId, quantity};\n        shopApiInstance.post('/orders/', params)\n        .then(response => {\n            console.log(response.data);\n            toast.dark(response.data.message, toastConfig);\n        }).catch(err => {\n            console.log(err.message);\n            toast.error(err.message, toastConfig);\n        })\n        e.target.reset();\n    }\n\n    return (\n        <Fragment>\n            <ToastContainer />\n            <div className={`modal modal-${productId}`} style={{top: '0px'}}>\n                <div className=\"modal-content\">\n                { display === 'order' &&\n                    <Fragment>\n                        <h3 className=\"order-modal\">How many would you like to order?</h3>\n                        <form onSubmit={placeOrder}>\n                        <Input \n                        type='number' \n                        name=\"quantity\" \n                        defaultValue=\"1\" \n                        ref={quantityRef} \n                        style={{textAlign: 'center'}}/>\n                        <br/>\n                        <Button type='submit' style={{width: '130px'}}>Confirm Order</Button>\n                        </form>\n                    </Fragment>\n                }\n                {   display === 'delete' && \n                    <Fragment>\n                        <h3 className=\"delete-modal\">Are you sure you want to delete this product?</h3>\n                        <Button onClick={() => deleteProduct(productId)} style={{width: '120px', alignSelf: 'center'}}>Confirm Delete</Button>\n                    </Fragment>\n                }\n                {   display === 'update' &&\n                    <Fragment>\n                        <UpdateProductModal/>\n                    </Fragment>\n\n                }\n                <Button style={{alignSelf: 'center'}} onClick={() => toggle('modal')}>Cancel</Button>\n                </div>\n        </div>\n    </Fragment>\n    )\n}\n\nexport default Modal;"]},"metadata":{},"sourceType":"module"}